{"version":3,"sources":["serviceWorker.js","views/Home/Home.js","views/NotFound.js","actions/user_actions.js","actions/types.js","views/LoginPage/LoginPage.js","views/RegisterPage/RegisterPage.js","views/NavBar/Sections/LeftMenu.js","views/NavBar/Sections/RightMenu.js","views/NavBar/NavBar.js","auth.js","views/Footer/Footer.js","components/ImageSlider.js","views/LandingPage/Sections/CheckBox.js","views/LandingPage/Sections/RadioBox.js","views/LandingPage/Sections/Datas.js","views/LandingPage/Sections/SearchFeature.js","views/LandingPage/LandingPage.js","components/FileUpload.js","views/UploadProductPage/UploadProductPage.js","views/EditProductPage/EditProductPage.js","views/DetailProductPage/Sections/ProductImage.js","views/DetailProductPage/Sections/ProductInfo.js","views/DetailProductPage/Sections/LikeDislikes.js","views/DetailProductPage/Sections/SingleComment.js","views/DetailProductPage/Sections/Comments.js","views/DetailProductPage/DetailProductPage.js","views/CartPage/Sections/UserCardBlock.js","components/Paypal.js","views/CartPage/CartPage.js","views/ProfilePage/ProfilePage.js","views/ProfilePage/Setting.js","views/FavoritePage/Sections/UserCardBlock.js","views/FavoritePage/FavoritePage.js","views/ChatPage/Sections/ChatCard.js","views/ChatPage/ChatPage.js","actions/chat_actions.js","App.js","reducers/index.js","reducers/user_reducer.js","reducers/chat_reducer.js","index.js"],"names":["Boolean","window","location","hostname","match","Home","id","className","style","color","fontSize","textAlign","paddingTop","padding","gutter","xs","sm","md","lg","span","type","marginBottom","href","size","icon","auth","payload","axios","get","then","response","data","Title","Typography","withRouter","props","dispatch","useDispatch","rememberMeChecked","localStorage","getItem","useState","formErrorMessage","setFormErrorMessage","rememberMe","initialEmail","initialValues","email","password","validationSchema","Yup","shape","required","min","onSubmit","values","setSubmitting","setTimeout","dataToSubmit","post","loginUser","loginSuccess","setItem","userId","removeItem","history","push","catch","err","touched","errors","isSubmitting","dirty","handleChange","handleBlur","handleSubmit","handleReset","level","width","Item","prefix","placeholder","onChange","onBlur","value","border","borderRadius","htmlType","minWidth","disabled","formItemLayout","labelCol","wrapperCol","tailFormItemLayout","offset","RegisterPage","fullname","confirmPassword","oneOf","image","moment","unix","registerUser","success","alert","errmsg","label","hasFeedback","validateStatus","onClick","LeftMenu","mode","key","user","useSelector","state","userData","isAuth","placement","title","paddingBottom","dot","favorite","length","count","cart","status","NavBar","position","zIndex","src","height","alt","ComposedClass","reload","adminRoute","AuthenticationCheck","useEffect","a","isAdmin","googleAuth","Footer","display","flexDirection","alignItems","justifyContent","ImageSlider","autoplay","images","map","index","maxHeight","CheckBox","Checked","setChecked","list","Fragment","currentIndex","indexOf","newChecked","splice","handleFilters","handleToggle","_id","checked","name","RadioBox","Value","setValue","Group","event","target","price","condition","department","category","Search","Input","SearchFeature","SearchTerms","setSearchTerms","currentTarget","refreshFunction","Panel","Collapse","Meta","Card","LandingPage","Products","setProducts","Skip","setSkip","Limit","PostSize","setPostSize","Filters","setFilters","getProducts","skip","limit","variables","Axios","loadMore","products","postSize","renderCards","product","hoverable","cover","description","filters","newFilters","priceValues","array","parseInt","console","log","handlePrice","showFilteredResults","margin","defaultActiveKey","header","newSearchTerm","searchTerm","FileUpload","Images","setImages","onDrop","files","formData","FormData","append","multiple","maxSize","getRootProps","getInputProps","overflowX","newImages","onDelete","TextArea","UploadProductPage","TitleValue","setTitleValue","DescriptionValue","setDescriptionValue","authorValue","setauthorValue","professorValue","setprofessorValue","codeValue","setcodeValue","isbnValue","setisbnValue","PriceValue","setPriceValue","versionValue","setversionValue","conditionValue","setconditionValue","levelValue","setlevelValue","departmentValue","setdepartmentValue","categoryValue","setcategoryValue","preventDefault","phone","major","address","writer","useremail","username","usermajor","userphone","userbio","useraddr","author","code","professor","ISBN","version","posthistory","maxWidth","item","EditProductPage","productId","params","put","ProductImage","detail","original","thumbnail","items","ProductInfo","Product","setProduct","content","addToFavorite","sold","choice","rendercondition","renderlevel","rendercategory","renderdept","trigger","addToCart","LikeDislikes","Likes","setLikes","Dislikes","setDislikes","LikeAction","setLikeAction","DislikeAction","setDislikeAction","variable","video","videoId","commentId","likes","like","dislikes","dislike","theme","paddingLeft","cursor","SingleComment","actions","comment","avatar","Comments","Comment","setComment","e","postId","result","productTitle","CommentLists","responseTo","DetailProductPage","setCommentLists","productVariable","comments","newComment","concat","UserCardBlock","renderCartImage","quantity","Paypal","total","this","toPay","env","client","sandbox","production","currency","onError","onSuccess","payment","onCancel","React","Component","CartPage","Total","setTotal","ShowTotal","setShowTotal","ShowSuccess","setShowSuccess","cartItems","forEach","userCart","cartItem","productDetail","i","getCartItems","cartDetail","calculateTotal","k","marginTop","paymentData","onSuccessBuy","transactionError","transactionCanceled","sex","ProfilePage","emailValue","setemailValue","fullnameValue","setfullnameValue","birthdayValue","setbirthdayValue","majorValue","setmajorValue","sexValue","setsexValue","phoneValue","setphoneValue","descriptionValue","setdescriptionValue","addressValue","setaddressValue","History","setHistory","Posts","setPosts","setimageValue","birthday","updateProfile","renderImage","to","paymentId","dateOfPurchase","p","dateOfPost","confirm","delete","message","Setting","oldpassValue","setoldpassValue","newpassValue","setnewpassValue","confirmnewpassValue","setconfirmnewpassValue","changePassword","oldPassword","newPassword","renderFavoriteImage","FavoritePage","favoriteItems","getFavoriteItems","favoriteDetail","ChatCard","sender","datetime","format","fromNow","ChatPage","chatMessage","hanleSearchChange","setState","chats","chat","submitChatMessage","userName","userImage","nowTime","socket","emit","io","on","messageFromBackEnd","messagesEnd","scrollIntoView","behavior","overflowY","ref","el","float","clear","layout","connect","App","fallback","minHeight","exact","path","component","Auth","LoginPage","Profile","NotFound","rootReducer","combineReducers","action","register","loginSucces","createStoreWithMiddleware","applyMiddleware","promiseMiddleware","ReduxThunk","createStore","ReactDOM","render","store","Reducer","__REDUX_DEVTOOLS_EXTENSION__","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7d3432d2.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport {Button, Icon} from 'antd';\r\nimport './Home.css';\r\nimport { Row, Col } from 'antd';\r\n\r\nfunction Home() {\r\n    return (\r\n        <div>\r\n            <div id=\"home-hero\">\r\n                <div className=\"container\">\r\n                    <h1 style={{color:'white', fontSize:50}}>Textbook Exchange</h1>\r\n                    <h1 style={{color:'white', fontSize:30}}>We are here to help you save money<br/>We can help make your college study easy and convenient</h1>\r\n                </div>\r\n            </div>\r\n            <div className=\"container\">\r\n                <h2 style={{fontSize:50, textAlign:'center', paddingTop:'100px'}}>What can you do with Textbook Exchange?<br/></h2>\r\n                <h2 style={{fontSize:'1.75rem', textAlign:'center'}}>It's so simple!</h2>\r\n                <hr/>\r\n                <div style={{textAlign:'center', padding:'50px'}}>\r\n                <Row gutter={{ xs: 8, sm: 16, md: 24, lg: 32 }}>\r\n                    <Col className=\"gutter-row\" span={12}>\r\n                        <div>\r\n                            <Icon type=\"search\" style={{fontSize:'4em'}}/>\r\n                            <h3 style={{fontSize:'30px'}}>Search textbooks</h3>\r\n                            <p style={{fontSize:'18px', marginBottom:'30px', color:'grey'}}>Use filters to search for any textbooks you look for</p>\r\n                            <hr/>\r\n                            <br/>\r\n                        </div>\r\n                    </Col>\r\n                    <Col className=\"gutter-row\" span={12}>\r\n                        <div>\r\n                            <Icon type=\"read\" style={{fontSize:'4em'}}/>\r\n                            <h3 style={{fontSize:'30px'}}>Browse contents</h3>\r\n                            <p style={{fontSize:'18px', marginBottom:'30px', color:'grey'}}>See all on-sale textbooks' information</p>\r\n                            <hr/>\r\n                            <br/>\r\n                        </div>\r\n                    </Col>\r\n                    <Col className=\"gutter-row\" span={12}>\r\n                        <div>\r\n                            <Icon type=\"dollar\" style={{fontSize:'4em'}}/>\r\n                            <h3 style={{fontSize:'30px'}}>Purchase cheap textbooks</h3>\r\n                            <p style={{fontSize:'18px', marginBottom:'30px', color:'grey'}}>Purchase textbooks you need in a low price</p>\r\n                            <hr/>\r\n                            <br/>\r\n                        </div>\r\n                    </Col>\r\n                    <Col className=\"gutter-row\" span={12}>\r\n                        <div>\r\n                            <Icon type=\"save\" style={{fontSize:'4em'}}/>\r\n                            <h3 style={{fontSize:'30px'}}>Collect favorites</h3>\r\n                            <p style={{fontSize:'18px', marginBottom:'30px', color:'grey'}}>Save your desired textbooks to your favorite list for future</p>\r\n                            <hr/>\r\n                            <br/>\r\n                        </div>\r\n                    </Col>\r\n                    <Col className=\"gutter-row\" span={12}>\r\n                        <div>\r\n                            <Icon type=\"safety\" style={{fontSize:'4em'}}/>\r\n                            <h3 style={{fontSize:'30px'}}>Secure information</h3>\r\n                            <p style={{fontSize:'18px', marginBottom:'30px', color:'grey'}}>Secure information, personal privacy and user authentication</p>\r\n                            <hr/>\r\n                            <br/>\r\n                        </div>\r\n                    </Col>\r\n                    <Col className=\"gutter-row\" span={12}>\r\n                        <div>\r\n                            <Icon type=\"shop\" style={{fontSize:'4em'}}/>\r\n                            <h3 style={{fontSize:'30px'}}>Post and sell</h3>\r\n                            <p style={{fontSize:'18px', marginBottom:'30px', color:'grey'}}>Upload and sell your own used textbooks to help other students</p>\r\n                            <hr/>\r\n                            <br/>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n                </div>\r\n            </div>\r\n            <div id=\"home-hero1\">\r\n                <div className=\"container\">\r\n                    <h2 className=\"intro\">Stop wasting money<br />Start exchanging old textbooks<br/><a href=\"/textbook\"><Button className=\"start\" type=\"default\" size=\"large\" icon=\"right\">Let's get started</Button></a></h2>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport {Icon} from 'antd';\r\n\r\nexport default () => (\r\n  <div className=\"jumbotron jumbotron-fluid\">\r\n    <div className=\"container\" style={{textAlign:'center'}}>\r\n      <h1 className=\"display-3\"><Icon type=\"meh\" />404 Page Not Found</h1>\r\n      <p className=\"lead\">We couldn't find the page you requested. Try access other content.</p>\r\n    </div>\r\n  </div>\r\n);","import axios from 'axios';\r\nimport {\r\n    LOGIN_USER,\r\n    REGISTER_USER,\r\n    AUTH_USER,\r\n    LOGOUT_USER,\r\n    ADD_TO_CART_USER,\r\n    GET_CART_ITEMS_USER,\r\n    REMOVE_CART_ITEM_USER,\r\n    ADD_TO_FAVORITE_USER,\r\n    GET_FAVORITE_ITEMS_USER,\r\n    REMOVE_FAVORITE_ITEM_USER,\r\n    ON_SUCCESS_BUY_USER,\r\n    FETCH_PROFILE,\r\n    UPDATE_PROFILE\r\n} from './types';\r\n\r\nexport function registerUser(dataToSubmit) {\r\n    const request = axios.post(`${'/api/users'}/register`, dataToSubmit)\r\n        .then(response => response.data);\r\n    return {\r\n        type: REGISTER_USER,\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function loginUser(dataToSubmit) {\r\n    const request = axios.post(`${'/api/users'}/login`, dataToSubmit)\r\n        .then(response => response.data);\r\n    return {\r\n        type: LOGIN_USER,\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function auth() {\r\n    const request = axios.get(`${'/api/users'}/auth`)\r\n        .then(response => response.data);\r\n    return {\r\n        type: AUTH_USER,\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function logoutUser() {\r\n    const request = axios.get(`${'/api/users'}/logout`)\r\n        .then(response => response.data);\r\n    return {\r\n        type: LOGOUT_USER,\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function addToCart(_id) {\r\n    const request = axios.get(`${'/api/users'}/addToCart?productId=${_id}`)\r\n        .then(response => response.data);\r\n    return {\r\n        type: ADD_TO_CART_USER,\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function getCartItems(cartItems, userCart) {\r\n    const request = axios.get(`/api/product/products_by_id?id=${cartItems}&type=array`)\r\n        .then(response => {\r\n            userCart.forEach(cartItem => {\r\n                response.data.forEach((productDetail, i) => {\r\n                    if (cartItem.id === productDetail._id) {\r\n                        response.data[i].quantity = cartItem.quantity;\r\n                    }\r\n                })\r\n            })\r\n            return response.data;\r\n        });\r\n    return {\r\n        type: GET_CART_ITEMS_USER,\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function removeCartItem(id) {\r\n    const request = axios.get(`/api/users/removeFromCart?_id=${id}`)\r\n        .then(response => {\r\n            response.data.cart.forEach(item => {\r\n                response.data.cartDetail.forEach((k, i) => {\r\n                    if (item.id === k._id) {\r\n                        response.data.cartDetail[i].quantity = item.quantity\r\n                    }\r\n                })\r\n            })\r\n            return response.data;\r\n        });\r\n    return {\r\n        type: REMOVE_CART_ITEM_USER,\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function onSuccessBuy(data) {\r\n    return {\r\n        type: ON_SUCCESS_BUY_USER,\r\n        payload:data\r\n    }\r\n}\r\n\r\nexport function addToFavorite(_id) {\r\n    const request = axios.get(`${'/api/users'}/addToFavorite?productId=${_id}`)\r\n        .then(response => response.data);\r\n    return {\r\n        type: ADD_TO_FAVORITE_USER,\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function getFavoriteItems(favoriteItems) {\r\n    const request = axios.get(`/api/product/products_by_id?id=${favoriteItems}&type=array`)\r\n        .then(response => response.data);\r\n    return {\r\n        type: GET_FAVORITE_ITEMS_USER,\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function removeFavoriteItem(id) {\r\n    const request = axios.get(`/api/users/removeFromFavorite?_id=${id}`)\r\n        .then(response =>  response.data);\r\n    return {\r\n        type: REMOVE_FAVORITE_ITEM_USER,\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function fetchProfile() {\r\n    const request = axios.get(`${'/api/users'}/profile`)\r\n        .then(response => response.data);\r\n    return {\r\n        type: FETCH_PROFILE,\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function updateProfile(dataToSubmit) {\r\n    const request = axios.put(`${'/api/users'}/profile`, dataToSubmit)\r\n    .then(response => response.data);\r\n    return {\r\n    type: UPDATE_PROFILE,\r\n    payload: request\r\n    }\r\n  }\r\n\r\nexport function changePassword(dataToSubmit) {\r\n    axios.put(`${'/api/users'}/resetpassword`, dataToSubmit)\r\n}","export const LOGIN_USER = 'login_user';\r\nexport const REGISTER_USER = 'register_user';\r\nexport const AUTH_USER = 'auth_user';\r\nexport const LOGOUT_USER = 'logout_user';\r\nexport const ADD_TO_CART_USER = 'add_to_cart_user';\r\nexport const GET_CART_ITEMS_USER = 'get_cart_items_user';\r\nexport const REMOVE_CART_ITEM_USER = 'remove_cart_item_user';\r\nexport const ADD_TO_FAVORITE_USER = 'add_to_favorite_user';\r\nexport const GET_FAVORITE_ITEMS_USER = 'get_favorite_items_user';\r\nexport const REMOVE_FAVORITE_ITEM_USER = 'remove_favorite_item_user';\r\nexport const ON_SUCCESS_BUY_USER = 'on_success_buy_user';\r\nexport const FETCH_PROFILE = 'fetch_profile';\r\nexport const UPDATE_PROFILE = 'update_profile';\r\nexport const GET_CHATS = 'get_chat';\r\nexport const AFTER_POST_MESSAGE = 'after_post_message';\r\n","import React, { useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { loginUser } from \"../../actions/user_actions\";\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { Form, Icon, Input, Button, Typography } from 'antd';\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst { Title } = Typography;\r\n\r\nfunction LoginPage(props) {\r\n  const dispatch = useDispatch();\r\n  const rememberMeChecked = localStorage.getItem(\"rememberMe\") ? true : false;\r\n  const [formErrorMessage, setFormErrorMessage] = useState('')\r\n  const [rememberMe, setRememberMe] = useState(rememberMeChecked)\r\n  const initialEmail = localStorage.getItem(\"rememberMe\") ? localStorage.getItem(\"rememberMe\") : '';\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        email: initialEmail,\r\n        password: '',\r\n      }}\r\n      validationSchema={Yup.object().shape({\r\n        email: Yup.string()\r\n          .email('Email is invalid')\r\n          .required('Email is required'),\r\n        password: Yup.string()\r\n          .min(6, 'Password must be at least 6 characters')\r\n          .required('Password is required'),\r\n      })}\r\n      onSubmit={(values, { setSubmitting }) => {\r\n        setTimeout(() => {\r\n          let dataToSubmit = {\r\n            email: values.email,\r\n            password: values.password\r\n          };\r\n          dispatch(loginUser(dataToSubmit))\r\n            .then(response => {\r\n              if (response.payload.loginSuccess) {\r\n                window.localStorage.setItem('userId', response.payload.userId);\r\n                if (rememberMe === true) {\r\n                  window.localStorage.setItem('rememberMe', values.id);\r\n                } else {\r\n                  localStorage.removeItem('rememberMe');\r\n                }\r\n                props.history.push(\"/\");\r\n              } else {\r\n                setFormErrorMessage('Check out your Account or Password again')\r\n              }\r\n            })\r\n            .catch(err => {\r\n              setFormErrorMessage('Check out your Account or Password again')\r\n              setTimeout(() => {\r\n                setFormErrorMessage(\"\")\r\n              }, 3000);\r\n            });\r\n          setSubmitting(false);\r\n        }, 500);\r\n      }}\r\n    >\r\n      {props => {\r\n        const {\r\n          values,\r\n          touched,\r\n          errors,\r\n          dirty,\r\n          isSubmitting,\r\n          handleChange,\r\n          handleBlur,\r\n          handleSubmit,\r\n          handleReset,\r\n        } = props;\r\n        return (\r\n          <div className=\"app\">\r\n            <Title level={2}>Sign In</Title>\r\n            <form onSubmit={handleSubmit} style={{ width: '350px' }}>\r\n              <Form.Item required>\r\n                <Input\r\n                  id=\"email\"\r\n                  prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                  placeholder=\"Enter your email\"\r\n                  type=\"email\"\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  className={\r\n                    errors.email && touched.email ? 'text-input error' : 'text-input'\r\n                  }\r\n                />\r\n                {errors.email && touched.email && (\r\n                  <div className=\"input-feedback\">{errors.email}</div>\r\n                )}\r\n              </Form.Item>\r\n\r\n              <Form.Item required>\r\n                <Input\r\n                  id=\"password\"\r\n                  prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                  placeholder=\"Enter your password\"\r\n                  type=\"password\"\r\n                  value={values.password}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  className={\r\n                    errors.password && touched.password ? 'text-input error' : 'text-input'\r\n                  }\r\n                />\r\n                {errors.password && touched.password && (\r\n                  <div className=\"input-feedback\">{errors.password}</div>\r\n                )}\r\n              </Form.Item>\r\n\r\n              {formErrorMessage && (\r\n                <label ><p style={{ color: '#ff0000bf', fontSize: '0.7rem', border: '1px solid', padding: '1rem', borderRadius: '10px' }}>{formErrorMessage}</p></label>\r\n              )}\r\n              <Form.Item>\r\n                <div>\r\n                  <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" style={{ minWidth: '100%' }} disabled={isSubmitting} onSubmit={handleSubmit}>\r\n                    Log in\r\n                </Button>\r\n                </div>\r\n                Or <a href=\"/register\">register now!</a>\r\n              </Form.Item>\r\n            </form>\r\n          </div>\r\n        );\r\n      }}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default withRouter(LoginPage);","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { registerUser } from \"../../actions/user_actions\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Typography\r\n} from 'antd';\r\n\r\nconst { Title } = Typography;\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 8 },\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 16 },\r\n  },\r\n};\r\nconst tailFormItemLayout = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 24,\r\n      offset: 0,\r\n    },\r\n    sm: {\r\n      span: 16,\r\n      offset: 8,\r\n    },\r\n  },\r\n};\r\n\r\nfunction RegisterPage(props) {\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        email: '',\r\n        fullname: '',\r\n        password: '',\r\n        confirmPassword: ''\r\n      }}\r\n      validationSchema={Yup.object().shape({\r\n        fullname: Yup.string()\r\n          .required('Name is required'),\r\n        email: Yup.string()\r\n          .email('Email is invalid')\r\n          .required('Email is required'),\r\n        password: Yup.string()\r\n          .min(6, 'Password must be at least 6 characters')\r\n          .required('Password is required'),\r\n        confirmPassword: Yup.string()\r\n          .oneOf([Yup.ref('password'), null], 'Passwords must match')\r\n          .required('Confirm Password is required')\r\n      })}\r\n      onSubmit={(values, { setSubmitting }) => {\r\n        setTimeout(() => {\r\n          let dataToSubmit = {\r\n            email: values.email,\r\n            password: values.password,\r\n            fullname: values.fullname,\r\n            image: `http://gravatar.com/avatar/${moment().unix()}?d=identicon`\r\n          };\r\n\r\n          dispatch(registerUser(dataToSubmit)).then(response => {\r\n            if (response.payload.success) {\r\n              props.history.push(\"/login\");\r\n            } else {\r\n              alert(response.payload.err.errmsg)\r\n            }\r\n          })\r\n          setSubmitting(false);\r\n        }, 500);\r\n      }}\r\n    >\r\n      {props => {\r\n        const {\r\n          values,\r\n          touched,\r\n          errors,\r\n          dirty,\r\n          isSubmitting,\r\n          handleChange,\r\n          handleBlur,\r\n          handleSubmit,\r\n          handleReset,\r\n        } = props;\r\n        return (\r\n          <div className=\"app\">\r\n            <Title level={2}>Sign Up</Title>\r\n            <Form style={{ minWidth: '375px' }} {...formItemLayout} onSubmit={handleSubmit} >\r\n              <Form.Item required label=\"Full Name\">\r\n                <Input\r\n                  id=\"fullname\"\r\n                  placeholder=\"Enter your full name\"\r\n                  type=\"text\"\r\n                  value={values.fullname}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  className={\r\n                    errors.fullname && touched.fullname ? 'text-input error' : 'text-input'\r\n                  }\r\n                />\r\n                {errors.fullname && touched.fullname && (\r\n                  <div className=\"input-feedback\">{errors.fullname}</div>\r\n                )}\r\n              </Form.Item>\r\n\r\n              <Form.Item required label=\"Email\" hasFeedback validateStatus={errors.email && touched.email ? \"error\" : 'success'}>\r\n                <Input\r\n                  id=\"email\"\r\n                  placeholder=\"Enter your Email\"\r\n                  type=\"email\"\r\n                  value={values.email}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  className={\r\n                    errors.email && touched.email ? 'text-input error' : 'text-input'\r\n                  }\r\n                />\r\n                {errors.email && touched.email && (\r\n                  <div className=\"input-feedback\">{errors.email}</div>\r\n                )}\r\n              </Form.Item>\r\n\r\n              <Form.Item required label=\"Password\" hasFeedback validateStatus={errors.password && touched.password ? \"error\" : 'success'}>\r\n                <Input\r\n                  id=\"password\"\r\n                  placeholder=\"Enter your password\"\r\n                  type=\"password\"\r\n                  value={values.password}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  className={\r\n                    errors.password && touched.password ? 'text-input error' : 'text-input'\r\n                  }\r\n                />\r\n                {errors.password && touched.password && (\r\n                  <div className=\"input-feedback\">{errors.password}</div>\r\n                )}\r\n              </Form.Item>\r\n\r\n              <Form.Item required label=\"Confirm\" hasFeedback>\r\n                <Input\r\n                  id=\"confirmPassword\"\r\n                  placeholder=\"Confirm your Password\"\r\n                  type=\"password\"\r\n                  value={values.confirmPassword}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  className={\r\n                    errors.confirmPassword && touched.confirmPassword ? 'text-input error' : 'text-input'\r\n                  }\r\n                />\r\n                {errors.confirmPassword && touched.confirmPassword && (\r\n                  <div className=\"input-feedback\">{errors.confirmPassword}</div>\r\n                )}\r\n              </Form.Item>\r\n\r\n              <Form.Item {...tailFormItemLayout}>\r\n                <Button onClick={handleSubmit} type=\"primary\" disabled={isSubmitting}>\r\n                  Submit\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          </div>\r\n        );\r\n      }}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default RegisterPage","import React from 'react';\r\nimport { Menu } from 'antd';\r\n\r\nfunction LeftMenu(props) {\r\n  return (\r\n  <Menu mode={props.mode}>\r\n    <Menu.Item key=\"books\">\r\n      <a href=\"/textbook\" style={{fontSize:20}}>TextBooks</a>\r\n    </Menu.Item>\r\n  </Menu>\r\n  )\r\n}\r\n\r\nexport default LeftMenu\r\n","import React from 'react';\r\nimport { Menu, Icon, Badge, Tooltip } from 'antd';\r\nimport axios from 'axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { useSelector } from \"react-redux\";\r\n\r\nfunction RightMenu(props) {\r\n  const user = useSelector(state => state.user)\r\n\r\n  const logoutHandler = () => {\r\n    axios.get(`${'/api/users'}/logout`).then(response => {\r\n      if (response.status === 200) {\r\n        props.history.push(\"/login\");\r\n      } else {\r\n        alert('Log Out Failed')\r\n      }\r\n    });\r\n  };\r\n\r\n  if (user.userData && !user.userData.isAuth) {\r\n    return (\r\n      <Menu mode={props.mode}>\r\n        <Menu.Item key=\"mail\">\r\n          <a href=\"/login\" style={{fontSize:20}}>Signin</a>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"app\">\r\n          <a href=\"/register\" style={{fontSize:20}}>Signup</a>\r\n        </Menu.Item>\r\n      </Menu>\r\n    )\r\n  } else {\r\n    return (\r\n      <Menu mode={props.mode}>\r\n        <Menu.Item key=\"profile\">\r\n          <Tooltip placement=\"bottom\" title=\"user profile\"><a href=\"/profile\"><Icon type=\"user\" style={{ fontSize: 25}} /></a></Tooltip>\r\n        </Menu.Item>\r\n\r\n        <Menu.Item key=\"upload\">\r\n          <Tooltip placement=\"bottom\" title=\"post and sell\"><a href=\"/product/upload\"><Icon type=\"upload\" style={{ fontSize: 25}} /></a></Tooltip>\r\n        </Menu.Item>\r\n\r\n        <Menu.Item key=\"wishlist\" style={{ paddingBottom: 8 }}>\r\n          <Badge dot={user.userData && user.userData.favorite.length}>\r\n            <Tooltip placement=\"bottom\" title=\"wish list\"><a href=\"/favorite\"><Icon type=\"heart\" style={{ fontSize: 25}} /></a></Tooltip>\r\n          </Badge>\r\n        </Menu.Item>\r\n\r\n        <Menu.Item key=\"cart\" style={{ paddingBottom: 8 }}>\r\n          <Badge count={user.userData && user.userData.cart.length}>\r\n            <Tooltip placement=\"bottom\" title=\"personal cart\"><a href=\"/user/cart\"><Icon type=\"shopping-cart\" style={{ fontSize: 25}} /></a></Tooltip>\r\n          </Badge>\r\n        </Menu.Item>\r\n\r\n        <Menu.Item key=\"logout\">\r\n          <Tooltip placement=\"bottom\" title=\"sign out\"><a onClick={logoutHandler}><Icon type=\"logout\" style={{ fontSize: 25}} /></a></Tooltip>\r\n        </Menu.Item>\r\n      </Menu>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(RightMenu);","import React from 'react';\r\nimport LeftMenu from './Sections/LeftMenu';\r\nimport RightMenu from './Sections/RightMenu';\r\nimport './Sections/Navbar.css';\r\n\r\nfunction NavBar() {\r\n  return (\r\n    <nav className=\"menu\" style={{ position: 'fixed', zIndex: 5, width: '100%' }}>\r\n      <div className=\"menu__logo\">\r\n        <a href=\"/\"><img className=\"logo\" src={ \"/logo.png\" } style={{width:'100%',height:'100%'}} alt=\"App logo\" /></a>\r\n      </div>\r\n      <div className=\"menu__container\">\r\n        <div className=\"menu_left\">\r\n          <LeftMenu mode=\"horizontal\" />\r\n        </div>\r\n        <div className=\"menu_rigth\">\r\n          <RightMenu mode=\"horizontal\" />\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default NavBar","import React, { useEffect } from 'react';\r\nimport { auth } from './actions/user_actions';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nexport default function (ComposedClass, reload, adminRoute = null) {\r\n    function AuthenticationCheck(props) {\r\n        let user = useSelector(state => state.user);\r\n        const dispatch = useDispatch();\r\n        useEffect(() => {\r\n            dispatch(auth()).then(async response => {\r\n                if (await !response.payload.isAuth) {\r\n                    if (reload) {\r\n                        props.history.push('/login')\r\n                    }\r\n                } else {\r\n                    if (adminRoute && !response.payload.isAdmin) {\r\n                        props.history.push('/')\r\n                    }\r\n                    else {\r\n                        if (reload === false) {\r\n                            props.history.push('/')\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n            \r\n        }, [dispatch, props.history, user.googleAuth])\r\n        return (\r\n            <ComposedClass {...props} user={user} />\r\n        )\r\n    }\r\n    return AuthenticationCheck\r\n}","import React from 'react'\r\nimport {Icon} from 'antd';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <div style={{\r\n            height: '80px', display: 'flex',\r\n            flexDirection: 'column', alignItems: 'center',\r\n            justifyContent: 'center', fontSize:'1rem'\r\n        }}>\r\n           <p> Happy Study, Happy Textbooks Exchange  <Icon type=\"smile\" /></p>\r\n           <p>Have question? email us at help@TBooks.com</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\nimport { Carousel } from 'antd';\r\n\r\nfunction ImageSlider(props) {\r\n    return (\r\n        <div>\r\n            <Carousel autoplay>\r\n                {props.images.map((image, index) => (\r\n                    <div key={index}>\r\n                        <img style={{ width: '100%', maxHeight: '150px' }}\r\n                            src={`http://localhost:5000/${image}`} alt=\"productImage\" />\r\n                    </div>\r\n                ))}\r\n            </Carousel>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImageSlider","import React, { useState } from 'react'\r\nimport { Checkbox } from 'antd';\r\n\r\nfunction CheckBox(props) {\r\n    const [Checked, setChecked] = useState([])\r\n    const handleToggle = (value) => {\r\n        const currentIndex = Checked.indexOf(value);\r\n        const newChecked = [...Checked];\r\n\r\n        if (currentIndex === -1) {\r\n            newChecked.push(value)\r\n        } else {\r\n            newChecked.splice(currentIndex, 1)\r\n        }\r\n        setChecked(newChecked)\r\n        props.handleFilters(newChecked)\r\n    }\r\n\r\n    const renderCheckboxLists = () => props.list && props.list.map((value, index) => (\r\n        <React.Fragment key={index}>\r\n            <Checkbox\r\n                onChange={() => handleToggle(value._id)}\r\n                type=\"checkbox\"\r\n                checked={Checked.indexOf(value._id) === -1 ? false : true}\r\n            />&nbsp;&nbsp;\r\n            <span>{value.name}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n        </React.Fragment>\r\n    ))\r\n\r\n    return (\r\n        <div>\r\n           {renderCheckboxLists()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckBox","import React, { useState } from 'react'\r\nimport { Radio } from 'antd';\r\n\r\nfunction RadioBox(props) {\r\n    const [Value, setValue] = useState('0')\r\n    const renderRadioBox = () => (\r\n        props.list &&  props.list.map((value) => (\r\n            <Radio key={value._id} value={`${value._id}`}>{value.name}</Radio>\r\n        ))\r\n    )\r\n    const handleChange = (event) => {\r\n        setValue(event.target.value)\r\n        props.handleFilters(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Radio.Group onChange={handleChange} value={Value}>\r\n                {renderRadioBox()}\r\n            </Radio.Group>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RadioBox","const price = [\r\n  {\r\n      \"_id\": 0,\r\n      \"name\": \"Any\",\r\n      \"array\": []\r\n  },\r\n  {\r\n      \"_id\": 1,\r\n      \"name\": \"$0 to $199\",\r\n      \"array\": [0, 199]\r\n  },\r\n  {\r\n      \"_id\": 2,\r\n      \"name\": \"$200 to $249\",\r\n      \"array\": [200, 249]\r\n  },\r\n  {\r\n      \"_id\": 3,\r\n      \"name\": \"$250 to $279\",\r\n      \"array\": [250, 279]\r\n  },\r\n  {\r\n      \"_id\": 4,\r\n      \"name\": \"$280 to $299\",\r\n      \"array\": [280, 299]\r\n  },\r\n  {\r\n      \"_id\": 5,\r\n      \"name\": \"More than $300\",\r\n      \"array\": [300, 1500000]\r\n  }\r\n]\r\n\r\nconst condition = [\r\n  {\r\n      \"_id\": 1,\r\n      \"name\": \"Brand new\"\r\n  },\r\n  {\r\n      \"_id\": 2,\r\n      \"name\": \"New\"\r\n  },\r\n  {\r\n      \"_id\": 3,\r\n      \"name\": \"Used\"\r\n  },\r\n  {\r\n      \"_id\": 4,\r\n      \"name\": \"Good\"\r\n  },\r\n  {\r\n      \"_id\": 5,\r\n      \"name\": \"Old\"\r\n  }\r\n]\r\n\r\nconst level = [\r\n    {\r\n        \"_id\": 1,\r\n        \"name\": \"Undergraduate\"\r\n    },\r\n    {\r\n        \"_id\": 2,\r\n        \"name\": \"Graduate\"\r\n    },\r\n    {\r\n        \"_id\": 3,\r\n        \"name\": \"PHD\"\r\n    }\r\n  ]\r\n\r\nconst department = [\r\n    {\r\n        \"_id\": 1,\r\n        \"name\": \"Herbert Wertheim College of Engineering\"\r\n    },\r\n    {\r\n        \"_id\": 2,\r\n        \"name\": \"College of the Arts\"\r\n    },\r\n    {\r\n        \"_id\": 3,\r\n        \"name\": \"Warrington College of Business\"\r\n    },\r\n    {\r\n        \"_id\": 4,\r\n        \"name\": \"College of Education\"\r\n    },\r\n    {\r\n        \"_id\": 5,\r\n        \"name\": \"College of Medicine\"\r\n    },\r\n    {\r\n        \"_id\": 6,\r\n        \"name\": \"Levin College of Law\"\r\n    },\r\n    {\r\n        \"_id\": 7,\r\n        \"name\": \"Fisher School of Accounting\"\r\n    }\r\n]\r\n\r\nconst category = [\r\n    {\r\n        \"_id\": 1,\r\n        \"name\": \"Finance\"\r\n    },\r\n    {\r\n        \"_id\": 2,\r\n        \"name\": \"Physics\"\r\n    },\r\n    {\r\n        \"_id\": 3,\r\n        \"name\": \"Math\"\r\n    },\r\n    {\r\n        \"_id\": 4,\r\n        \"name\": \"Arts\"\r\n    },\r\n    {\r\n        \"_id\": 5,\r\n        \"name\": \"Music\"\r\n    }\r\n]\r\n\r\nexport {\r\n  price,\r\n  condition,\r\n  level,\r\n  department,\r\n  category\r\n}","import React, { useState } from 'react'\r\nimport { Input } from 'antd';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction SearchFeature(props) {\r\n    const [SearchTerms, setSearchTerms] = useState(\"\")\r\n    const onChangeSearch = (event) => {\r\n        setSearchTerms(event.currentTarget.value)\r\n        props.refreshFunction(event.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Search\r\n                value={SearchTerms}\r\n                onChange={onChangeSearch}\r\n                placeholder=\"Search By Typing...\"\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchFeature","import React, { useEffect, useState } from 'react'\r\nimport Axios from 'axios';\r\nimport { Icon, Col, Card, Row } from 'antd';\r\nimport ImageSlider from '../../components/ImageSlider';\r\nimport CheckBox from './Sections/CheckBox';\r\nimport RadioBox from './Sections/RadioBox';\r\nimport { condition, price, level, department, category } from './Sections/Datas';\r\nimport SearchFeature from './Sections/SearchFeature';\r\nimport { Collapse } from 'antd';\r\n\r\nconst { Panel } = Collapse\r\nconst { Meta } = Card;\r\n\r\nfunction LandingPage() {\r\n    const [Products, setProducts] = useState([])\r\n    const [Skip, setSkip] = useState(0)\r\n    const [Limit, setLimit] = useState(8)\r\n    const [PostSize, setPostSize] = useState()\r\n    const [SearchTerms, setSearchTerms] = useState(\"\")\r\n    const [Filters, setFilters] = useState({\r\n        condition: [],\r\n        price: [],\r\n        level: [],\r\n        category: [],\r\n        department: []\r\n    })\r\n\r\n    useEffect(() => {\r\n        const variables = {\r\n            skip: Skip,\r\n            limit: Limit,\r\n        }\r\n        getProducts(variables)\r\n    }, [])\r\n\r\n    const getProducts = (variables) => {\r\n        Axios.post('/api/product/getProducts', variables)\r\n            .then(response => {\r\n                if (response.data.success) {\r\n                    if (variables.loadMore) {\r\n                        setProducts([...Products, ...response.data.products])\r\n                    } else {\r\n                        setProducts(response.data.products)\r\n                    }\r\n                    setPostSize(response.data.postSize)\r\n                } else {\r\n                    alert('Failed to fectch product datas')\r\n                }\r\n            })\r\n    }\r\n\r\n    const onLoadMore = () => {\r\n        let skip = Skip + Limit;\r\n        const variables = {\r\n            skip: skip,\r\n            limit: Limit,\r\n            loadMore: true\r\n        }\r\n        getProducts(variables)\r\n        setSkip(skip)\r\n    }\r\n\r\n    const renderCards = Products.map((product, index) => {\r\n        return <Col lg={6} md={8} xs={24}>\r\n            <Card\r\n                hoverable={true}\r\n                cover={<a href={`/product/${product._id}`} > <ImageSlider images={product.images} /></a>}\r\n            >\r\n                <Meta\r\n                    title={product.title}\r\n                    description={`$${product.price}`}\r\n                />\r\n            </Card>\r\n        </Col>\r\n    })\r\n\r\n    const showFilteredResults = (filters) => {\r\n        const variables = {\r\n            skip: 0,\r\n            limit: Limit,\r\n            filters: filters\r\n        }\r\n        getProducts(variables)\r\n        setSkip(0)\r\n    }\r\n\r\n    const handlePrice = (value) => {\r\n        const data = price;\r\n        let array = [];\r\n        for (let key in data) {\r\n            if (data[key]._id === parseInt(value, 10)) {\r\n                array = data[key].array;\r\n            }\r\n        }\r\n        console.log('array', array)\r\n        return array\r\n    }\r\n\r\n    const handleFilters = (filters, category) => {\r\n        const newFilters = { ...Filters }\r\n        newFilters[category] = filters\r\n        if (category === \"price\") {\r\n            let priceValues = handlePrice(filters)\r\n            newFilters[category] = priceValues\r\n        }\r\n        console.log(newFilters)\r\n        showFilteredResults(newFilters)\r\n        setFilters(newFilters)\r\n    }\r\n\r\n    const updateSearchTerms = (newSearchTerm) => {\r\n        const variables = {\r\n            skip: 0,\r\n            limit: Limit,\r\n            filters: Filters,\r\n            searchTerm: newSearchTerm\r\n        }\r\n        setSkip(0)\r\n        setSearchTerms(newSearchTerm)\r\n        getProducts(variables)\r\n    }\r\n\r\n    return (\r\n        <div style={{ width: '75%', margin: '3rem auto' }}>\r\n            <div style={{ textAlign: 'center' }}>\r\n                <h2>  Let's Make Use of Used Textbooks  <Icon type=\"rocket\" />  </h2>\r\n            </div>\r\n\r\n            {/* Filter  */}\r\n            <Collapse defaultActiveKey={['0']} >\r\n                <Panel header=\"Filters\" key=\"1\">\r\n                    <Row gutter={[8, 8]}>\r\n                        <Col lg={12} xs={12} >\r\n                            <label><strong><Icon type=\"filter\"/>Condition:</strong></label>\r\n                            <CheckBox\r\n                                list={condition}\r\n                                handleFilters={filters => handleFilters(filters, \"condition\")}\r\n                            />\r\n                        </Col>\r\n                        <Col lg={12} xs={12} >\r\n                            <label><strong><Icon type=\"filter\"/>Category:</strong></label>\r\n                            <CheckBox\r\n                                list={category}\r\n                                handleFilters={filters => handleFilters(filters, \"category\")}\r\n                            />\r\n                        </Col>\r\n                        <Col lg={12} xs={12} >\r\n                            <label><strong><Icon type=\"filter\"/>Department:</strong></label>\r\n                            <CheckBox\r\n                                list={department}\r\n                                handleFilters={filters => handleFilters(filters, \"department\")}\r\n                            />\r\n                        </Col>\r\n                        <Col lg={12} xs={12}>\r\n                            <label><strong><Icon type=\"filter\"/>Price:</strong></label>\r\n                            <RadioBox\r\n                                list={price}\r\n                                handleFilters={filters => handleFilters(filters, \"price\")}\r\n                            />\r\n                        </Col>\r\n                        <Col lg={12} xs={12} >\r\n                            <label><strong><Icon type=\"filter\"/>Program Level:</strong></label>\r\n                            <CheckBox\r\n                                list={level}\r\n                                handleFilters={filters => handleFilters(filters, \"level\")}\r\n                            />\r\n                        </Col>\r\n                    </Row>\r\n                </Panel>\r\n            </Collapse>\r\n            <div style={{ display: 'flex', justifyContent: 'flex-end', margin: '1rem auto' }}>\r\n                <SearchFeature\r\n                    refreshFunction={updateSearchTerms}\r\n                />\r\n            </div>\r\n            {Products.length === 0 ?\r\n                <div style={{ display: 'flex', height: '300px', justifyContent: 'center', alignItems: 'center' }}>\r\n                    <h2>No post yet...</h2>\r\n                </div> :\r\n                <div>\r\n                    <Row gutter={[16, 16]}>\r\n                        {renderCards}\r\n                    </Row>\r\n                </div>\r\n            }\r\n            <br /><br />\r\n\r\n            {PostSize >= Limit &&\r\n                <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n                    <button onClick={onLoadMore}>Load More</button>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LandingPage","import React, { useState } from 'react'\r\nimport Dropzone from 'react-dropzone';\r\nimport { Icon } from 'antd';\r\nimport Axios from 'axios';\r\n\r\nfunction FileUpload(props) {\r\n    const [Images, setImages] = useState([])\r\n    const onDrop = (files) => {\r\n        let formData = new FormData();\r\n        const config = {\r\n            header: { 'content-type': 'multipart/form-data' }\r\n        }\r\n        formData.append(\"file\", files[0])\r\n        //save the Image we chose inside the Node Server \r\n        Axios.post('/api/product/uploadImage', formData, config)\r\n            .then(response => {\r\n                if (response.data.success) {\r\n\r\n                    setImages([...Images, response.data.image])\r\n                    props.refreshFunction([...Images, response.data.image])\r\n\r\n                } else {\r\n                    alert('Failed to save the Image in Server')\r\n                }\r\n            })\r\n    }\r\n\r\n    const onDelete = (image) => {\r\n        const currentIndex = Images.indexOf(image);\r\n\r\n        let newImages = [...Images]\r\n        newImages.splice(currentIndex, 1)\r\n\r\n        setImages(newImages)\r\n        props.refreshFunction(newImages)\r\n    }\r\n\r\n    return (\r\n        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n            <Dropzone\r\n                onDrop={onDrop}\r\n                multiple={false}\r\n                maxSize={800000000}\r\n            >\r\n                {({ getRootProps, getInputProps }) => (\r\n                    <div style={{\r\n                        width: '300px', height: '240px', border: '1px solid lightgray',\r\n                        display: 'flex', alignItems: 'center', justifyContent: 'center'\r\n                    }}\r\n                        {...getRootProps()}\r\n                    >\r\n                        <input {...getInputProps()} />\r\n                        <Icon type=\"plus\" style={{ fontSize: '3rem' }} />\r\n\r\n                    </div>\r\n                )}\r\n            </Dropzone>\r\n\r\n            <div style={{ display: 'flex', width: '350px', height: '240px', overflowX: 'scroll' }}>\r\n                {Images.map((image, index) => (\r\n                    <div onClick={() => onDelete(image)}>\r\n                        <img style={{ minWidth: '300px', width: '300px', height: '240px' }} src={`http://localhost:5000/${image}`} alt={`productImg-${index}`} />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FileUpload","import React, { useState } from 'react'\r\nimport { Typography, Button, Form, Input, Icon} from 'antd';\r\nimport FileUpload from '../../components/FileUpload'\r\nimport Axios from 'axios';\r\n\r\nconst { Title } = Typography;\r\nconst { TextArea } = Input;\r\n\r\nconst condition = [\r\n    { key: 1, value: \"Brand new\" },\r\n    { key: 2, value: \"New\" },\r\n    { key: 3, value: \"Used\" },\r\n    { key: 4, value: \"Good\" },\r\n    { key: 5, value: \"Old\" }\r\n]\r\nconst level = [\r\n    { key: 1, value: \"Undergraduate\" },\r\n    { key: 2, value: \"Graduate\" },\r\n    { key: 3, value: \"PHD\" }\r\n]\r\nconst department = [\r\n    { key: 1, value: \"Herbert Wertheim College of Engineering\" },\r\n    { key: 2, value: \"College of the Arts\" },\r\n    { key: 3, value: \"Warrington College of Business\" },\r\n    { key: 4, value: \"College of Education\" },\r\n    { key: 5, value: \"College of Medicine\" },\r\n    { key: 6, value: \"Levin College of Law\" },\r\n    { key: 7, value: \"Fisher School of Accounting\" }\r\n]\r\nconst category = [\r\n    { key: 1, value: \"Finance\" },\r\n    { key: 2, value: \"Physics\" },\r\n    { key: 3, value: \"Math\" },\r\n    { key: 4, value: \"Arts\" },\r\n    { key: 5, value: \"Music\" }\r\n]\r\n\r\nfunction UploadProductPage(props) {\r\n    const [TitleValue, setTitleValue] = useState(\"\")\r\n    const [DescriptionValue, setDescriptionValue] = useState(\"\")\r\n    const [authorValue, setauthorValue] = useState(\"\")\r\n    const [professorValue, setprofessorValue] = useState(\"\")\r\n    const [codeValue, setcodeValue] = useState(\"\")\r\n    const [isbnValue, setisbnValue] = useState(\"\")\r\n    const [PriceValue, setPriceValue] = useState(0)\r\n    const [versionValue, setversionValue] = useState(0)\r\n    const [conditionValue, setconditionValue] = useState(1)\r\n    const [levelValue, setlevelValue] = useState(1)\r\n    const [departmentValue, setdepartmentValue] = useState(1)\r\n    const [categoryValue, setcategoryValue] = useState(1)\r\n    const [Images, setImages] = useState([])\r\n\r\n    const onTitleChange = (event) => {\r\n        setTitleValue(event.currentTarget.value)\r\n    }\r\n\r\n    const onDescriptionChange = (event) => {\r\n        setDescriptionValue(event.currentTarget.value)\r\n    }\r\n\r\n    const onauthorChange = (event) => {\r\n        setauthorValue(event.currentTarget.value)\r\n    }\r\n\r\n    const onprofessorChange = (event) => {\r\n        setprofessorValue(event.currentTarget.value)\r\n    }\r\n\r\n    const oncodeChange = (event) => {\r\n        setcodeValue(event.currentTarget.value)\r\n    }\r\n\r\n    const onisbnChange = (event) => {\r\n        setisbnValue(event.currentTarget.value)\r\n    }\r\n\r\n    const onPriceChange = (event) => {\r\n        setPriceValue(event.currentTarget.value)\r\n    }\r\n\r\n    const onversionChange = (event) => {\r\n        setversionValue(event.currentTarget.value)\r\n    }\r\n\r\n    const onconditionSelectChange = (event) => {\r\n        setconditionValue(event.currentTarget.value)\r\n    }\r\n\r\n    const onlevelSelectChange = (event) => {\r\n        setlevelValue(event.currentTarget.value)\r\n    }\r\n\r\n    const ondepartmentSelectChange = (event) => {\r\n        setdepartmentValue(event.currentTarget.value)\r\n    }\r\n\r\n    const oncategorySelectChange = (event) => {\r\n        setcategoryValue(event.currentTarget.value)\r\n    }\r\n\r\n    const updateImages = (newImages) => {\r\n        setImages(newImages)\r\n    }\r\n    const onSubmit = (event) => {\r\n        event.preventDefault();\r\n        if (!TitleValue || !DescriptionValue || !categoryValue || !departmentValue || !levelValue || !authorValue || !isbnValue || !professorValue || !codeValue || !PriceValue || !conditionValue || !versionValue || !Images) {\r\n            return alert('fill all the fields first!')\r\n        }\r\n        if(!props.user.userData.phone || !props.user.userData.major || !props.user.userData.address || !props.user.userData.description){\r\n            return alert('complete your profile before you can post!')\r\n        }\r\n\r\n        const variables = {\r\n            writer: props.user.userData._id,\r\n            useremail: props.user.userData.email,\r\n            username: props.user.userData.fullname,\r\n            usermajor: props.user.userData.major,\r\n            userphone: props.user.userData.phone,\r\n            userbio: props.user.userData.description,\r\n            useraddr: props.user.userData.address,\r\n            title: TitleValue,\r\n            author: authorValue,\r\n            code: codeValue,\r\n            professor: professorValue,\r\n            ISBN: isbnValue,\r\n            description: DescriptionValue,\r\n            price: PriceValue,\r\n            version: versionValue,\r\n            images: Images,\r\n            condition: conditionValue,\r\n            level: levelValue,\r\n            department: departmentValue,\r\n            category: categoryValue\r\n        }\r\n\r\n        Axios.post('/api/product/uploadProduct', variables)\r\n            .then(response => {\r\n                if (response.data.success) {\r\n                    posthistory(response.data.product)\r\n                    alert('Product Successfully Uploaded')\r\n                    props.history.push('/textbook')\r\n                } else {\r\n                    alert('Failed to upload Product')\r\n                }\r\n            })\r\n    }\r\n\r\n    const posthistory = (product) => {\r\n        Axios.post('/api/users/successPost', product)\r\n        .then(response => {\r\n            if (response.data.success) {\r\n                alert('Product Successfully Uploaded')\r\n            } else {\r\n                alert('Failed to upload Product')\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <div style={{ maxWidth: '700px', margin: '2rem auto' }}>\r\n            <div style={{ textAlign: 'center', marginBottom: '2rem' }}>\r\n                <Title level={2}> Upload My Textbooks <Icon type=\"book\"/></Title>\r\n            </div>\r\n            <Form onSubmit={onSubmit} >\r\n                <label>Title</label>\r\n                <Input\r\n                    onChange={onTitleChange}\r\n                    value={TitleValue}\r\n                />\r\n                <br />\r\n                <br />\r\n                <label>Author</label>\r\n                <Input\r\n                    onChange={onauthorChange}\r\n                    value={authorValue}\r\n                />\r\n                <br />\r\n                <br />\r\n                <label>Version</label>\r\n                <Input\r\n                    onChange={onversionChange}\r\n                    value={versionValue}\r\n                    type=\"number\"\r\n                />\r\n                <br />\r\n                <br />\r\n                <label>ISBN</label>\r\n                <Input\r\n                    onChange={onisbnChange}\r\n                    value={isbnValue}\r\n                />\r\n                <br />\r\n                <br />\r\n                <label>Condition: </label>\r\n                <select onChange={onconditionSelectChange}>\r\n                    {condition.map(item => (\r\n                        <option key={item.key} value={item.key}>{item.value} </option>\r\n                    ))}\r\n                </select>\r\n                <br />\r\n                <br />\r\n                <label>Course Code</label>\r\n                <Input\r\n                    onChange={oncodeChange}\r\n                    value={codeValue}\r\n                />\r\n                <br />\r\n                <br />\r\n                <label>Professor</label>\r\n                <Input\r\n                    onChange={onprofessorChange}\r\n                    value={professorValue}\r\n                />\r\n                <br />\r\n                <br />\r\n                <label>Program Level: </label>\r\n                <select onChange={onlevelSelectChange}>\r\n                    {level.map(item => (\r\n                        <option key={item.key} value={item.key}>{item.value} </option>\r\n                    ))}\r\n                </select>\r\n                <br />\r\n                <br />\r\n                <label>Department: </label>\r\n                <select onChange={ondepartmentSelectChange}>\r\n                    {department.map(item => (\r\n                        <option key={item.key} value={item.key}>{item.value} </option>\r\n                    ))}\r\n                </select>\r\n                <br />\r\n                <br />\r\n                <label>Category: </label>\r\n                <select onChange={oncategorySelectChange}>\r\n                    {category.map(item => (\r\n                        <option key={item.key} value={item.key}>{item.value} </option>\r\n                    ))}\r\n                </select>\r\n                <br />\r\n                <br />\r\n                <label>Description</label>\r\n                <TextArea\r\n                    onChange={onDescriptionChange}\r\n                    value={DescriptionValue}\r\n                />\r\n                <br />\r\n                <br />\r\n                <label>Price($)</label>\r\n                <Input\r\n                    onChange={onPriceChange}\r\n                    value={PriceValue}\r\n                    type=\"number\"\r\n                />\r\n                <br /><br />\r\n                {/* DropZone */}\r\n                <label>Upload images</label>\r\n                <FileUpload refreshFunction={updateImages} />\r\n                <p style={{color:'red'}}>*drop or choose from files, left click image to delete on right area</p>\r\n                <Button\r\n                    onClick={onSubmit} type=\"dashed\" size=\"large\"\r\n                >\r\n                    Post\r\n                </Button>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UploadProductPage","import React, { useEffect, useState } from 'react'\r\nimport { Typography, Button, Form, Input, Icon} from 'antd';\r\nimport FileUpload from '../../components/FileUpload'\r\nimport Axios from 'axios';\r\n\r\nconst { Title } = Typography;\r\nconst { TextArea } = Input;\r\n\r\nconst condition = [\r\n    { key: 1, value: \"Brand new\" },\r\n    { key: 2, value: \"New\" },\r\n    { key: 3, value: \"Used\" },\r\n    { key: 4, value: \"Good\" },\r\n    { key: 5, value: \"Old\" }\r\n]\r\nconst level = [\r\n    { key: 1, value: \"Undergraduate\" },\r\n    { key: 2, value: \"Graduate\" },\r\n    { key: 3, value: \"PHD\" }\r\n]\r\nconst department = [\r\n    { key: 1, value: \"Herbert Wertheim College of Engineering\" },\r\n    { key: 2, value: \"College of the Arts\" },\r\n    { key: 3, value: \"Warrington College of Business\" },\r\n    { key: 4, value: \"College of Education\" },\r\n    { key: 5, value: \"College of Medicine\" },\r\n    { key: 6, value: \"Levin College of Law\" },\r\n    { key: 7, value: \"Fisher School of Accounting\" }\r\n]\r\nconst category = [\r\n    { key: 1, value: \"Finance\" },\r\n    { key: 2, value: \"Physics\" },\r\n    { key: 3, value: \"Math\" },\r\n    { key: 4, value: \"Arts\" },\r\n    { key: 5, value: \"Music\" }\r\n]\r\n\r\nfunction EditProductPage(props) {\r\n    const productId = props.match.params.productId\r\n    const [TitleValue, setTitleValue] = useState(\"\")\r\n    const [DescriptionValue, setDescriptionValue] = useState(\"\")\r\n    const [authorValue, setauthorValue] = useState(\"\")\r\n    const [professorValue, setprofessorValue] = useState(\"\")\r\n    const [codeValue, setcodeValue] = useState(\"\")\r\n    const [isbnValue, setisbnValue] = useState(\"\")\r\n    const [PriceValue, setPriceValue] = useState(0)\r\n    const [versionValue, setversionValue] = useState(0)\r\n    const [conditionValue, setconditionValue] = useState(1)\r\n    const [levelValue, setlevelValue] = useState(1)\r\n    const [departmentValue, setdepartmentValue] = useState(1)\r\n    const [categoryValue, setcategoryValue] = useState(1)\r\n    const [Images, setImages] = useState([])\r\n\r\n    useEffect(() => {\r\n        Axios.get(`/api/product/products_by_id?id=${productId}&type=single`)\r\n        .then(response => {\r\n            setTitleValue(response.data[0].title)\r\n            setDescriptionValue(response.data[0].description)\r\n            setauthorValue(response.data[0].author)\r\n            setprofessorValue(response.data[0].professor)\r\n            setcodeValue(response.data[0].code)\r\n            setisbnValue(response.data[0].ISBN)\r\n            setPriceValue(response.data[0].price)\r\n            setversionValue(response.data[0].version)\r\n            setconditionValue(response.data[0].condition)\r\n            setlevelValue(response.data[0].level)\r\n            setdepartmentValue(response.data[0].department)\r\n            setcategoryValue(response.data[0].category)\r\n      })\r\n    }, [])\r\n\r\n    const onTitleChange = (event) => {\r\n        setTitleValue(event.currentTarget.value)\r\n    }\r\n\r\n    const onDescriptionChange = (event) => {\r\n        setDescriptionValue(event.currentTarget.value)\r\n    }\r\n\r\n    const onauthorChange = (event) => {\r\n        setauthorValue(event.currentTarget.value)\r\n    }\r\n\r\n    const onprofessorChange = (event) => {\r\n        setprofessorValue(event.currentTarget.value)\r\n    }\r\n\r\n    const oncodeChange = (event) => {\r\n        setcodeValue(event.currentTarget.value)\r\n    }\r\n\r\n    const onisbnChange = (event) => {\r\n        setisbnValue(event.currentTarget.value)\r\n    }\r\n\r\n    const onPriceChange = (event) => {\r\n        setPriceValue(event.currentTarget.value)\r\n    }\r\n\r\n    const onversionChange = (event) => {\r\n        setversionValue(event.currentTarget.value)\r\n    }\r\n\r\n    const onconditionSelectChange = (event) => {\r\n        setconditionValue(event.currentTarget.value)\r\n    }\r\n\r\n    const onlevelSelectChange = (event) => {\r\n        setlevelValue(event.currentTarget.value)\r\n    }\r\n\r\n    const ondepartmentSelectChange = (event) => {\r\n        setdepartmentValue(event.currentTarget.value)\r\n    }\r\n\r\n    const oncategorySelectChange = (event) => {\r\n        setcategoryValue(event.currentTarget.value)\r\n    }\r\n\r\n    const updateImages = (newImages) => {\r\n        setImages(newImages)\r\n    }\r\n    const onSubmit = (event) => {\r\n        event.preventDefault();\r\n        if (!TitleValue || !DescriptionValue || !categoryValue || !departmentValue || !levelValue || !authorValue || !isbnValue || !professorValue || !codeValue || !PriceValue || !conditionValue || !versionValue || !Images) {\r\n            return alert('fill all the fields first!')\r\n        }\r\n\r\n        const variables = {\r\n            writer: props.user.userData._id,\r\n            username: props.user.userData.fullname,\r\n            usermajor: props.user.userData.major,\r\n            userphone: props.user.userData.phone,\r\n            userbio: props.user.userData.description,\r\n            useraddr: props.user.userData.address,\r\n            title: TitleValue,\r\n            author: authorValue,\r\n            code: codeValue,\r\n            professor: professorValue,\r\n            ISBN: isbnValue,\r\n            description: DescriptionValue,\r\n            price: PriceValue,\r\n            version: versionValue,\r\n            images: Images,\r\n            condition: conditionValue,\r\n            level: levelValue,\r\n            department: departmentValue,\r\n            category: categoryValue\r\n        }\r\n\r\n        Axios.put(`/api/product/products_by_id?id=${productId}`, variables)\r\n            .then(response => {\r\n                if (response.data.success) {\r\n                    alert('Product Successfully Updated')\r\n                    props.history.push('/textbook')\r\n                } else {\r\n                    alert('Failed to update Product')\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div style={{ maxWidth: '700px', margin: '2rem auto' }}>\r\n            <div style={{ textAlign: 'center', marginBottom: '2rem' }}>\r\n                <Title level={2}> Edit My Textbooks <Icon type=\"book\"/></Title>\r\n            </div>\r\n            <Form onSubmit={onSubmit} >\r\n                <label>Title</label>\r\n                <Input\r\n                    onChange={onTitleChange}\r\n                    value={TitleValue}\r\n                />\r\n                <br />\r\n                <br />\r\n                <label>Author</label>\r\n                <Input\r\n                    onChange={onauthorChange}\r\n                    value={authorValue}\r\n                />\r\n                <br />\r\n                <br />\r\n                <label>Version</label>\r\n                <Input\r\n                    onChange={onversionChange}\r\n                    value={versionValue}\r\n                    type=\"number\"\r\n                />\r\n                <br />\r\n                <br />\r\n                <label>ISBN</label>\r\n                <Input\r\n                    onChange={onisbnChange}\r\n                    value={isbnValue}\r\n                />\r\n                <br />\r\n                <br />\r\n                <label>Condition: </label>\r\n                <select onChange={onconditionSelectChange} value={conditionValue}>\r\n                    {condition.map(item => (\r\n                        <option key={item.key} value={item.key}>{item.value} </option>\r\n                    ))}\r\n                </select>\r\n                <br />\r\n                <br />\r\n                <label>Course Code</label>\r\n                <Input\r\n                    onChange={oncodeChange}\r\n                    value={codeValue}\r\n                />\r\n                <br />\r\n                <br />\r\n                <label>Professor</label>\r\n                <Input\r\n                    onChange={onprofessorChange}\r\n                    value={professorValue}\r\n                />\r\n                <br />\r\n                <br />\r\n                <label>Program Level: </label>\r\n                <select onChange={onlevelSelectChange} value={levelValue}>\r\n                    {level.map(item => (\r\n                        <option key={item.key} value={item.key}>{item.value} </option>\r\n                    ))}\r\n                </select>\r\n                <br />\r\n                <br />\r\n                <label>Department: </label>\r\n                <select onChange={ondepartmentSelectChange} value={departmentValue}>\r\n                    {department.map(item => (\r\n                        <option key={item.key} value={item.key}>{item.value} </option>\r\n                    ))}\r\n                </select>\r\n                <br />\r\n                <br />\r\n                <label>Category: </label>\r\n                <select onChange={oncategorySelectChange} value={categoryValue}>\r\n                    {category.map(item => (\r\n                        <option key={item.key} value={item.key}>{item.value} </option>\r\n                    ))}\r\n                </select>\r\n                <br />\r\n                <br />\r\n                <label>Description</label>\r\n                <TextArea\r\n                    onChange={onDescriptionChange}\r\n                    value={DescriptionValue}\r\n                />\r\n                <br />\r\n                <br />\r\n                <label>Price($)</label>\r\n                <Input\r\n                    onChange={onPriceChange}\r\n                    value={PriceValue}\r\n                    type=\"number\"\r\n                />\r\n                <br /><br />\r\n                {/* DropZone */}\r\n                <label>Upload images</label>\r\n                <FileUpload refreshFunction={updateImages} />\r\n                <p style={{color:'red'}}>*drop or choose from files, left click image to delete on right area</p>\r\n                <Button\r\n                    onClick={onSubmit} type=\"dashed\" size=\"large\"\r\n                >\r\n                    Update Post\r\n                </Button>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditProductPage","import React, { useEffect, useState } from 'react'\r\nimport ImageGallery from 'react-image-gallery';\r\n\r\nfunction ProductImage(props) {\r\n    const [Images, setImages] = useState([])\r\n\r\n    useEffect(() => {\r\n        if (props.detail.images && props.detail.images.length > 0) {\r\n            let images = [];\r\n\r\n            props.detail.images && props.detail.images.map(item => {\r\n                images.push({\r\n                    original: `http://localhost:5000/${item}`,\r\n                    thumbnail: `http://localhost:5000/${item}`\r\n                })\r\n            })\r\n            setImages(images)\r\n        }\r\n    }, [props.detail])\r\n\r\n    return (\r\n        <div>\r\n            <ImageGallery items={Images} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductImage","import React, { useEffect, useState } from 'react'\r\nimport { Popover, Button, Descriptions, Icon } from 'antd';\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction ProductInfo(props) {\r\n    const user = useSelector(state => state.user)\r\n    const [Product, setProduct] = useState({})\r\n\r\n    useEffect(() => {\r\n\r\n        setProduct(props.detail)\r\n\r\n    }, [props.detail])\r\n\r\n    const addToCarthandler = () => {\r\n        if (user.userData && !user.userData.isAuth) {\r\n            return alert('Please Log in first');\r\n        }\r\n        props.addToCart(props.detail._id)\r\n    }\r\n    const addToFavoritehandler = () => {\r\n        if (user.userData && !user.userData.isAuth) {\r\n            return alert('Please Log in first');\r\n        }\r\n        props.addToFavorite(props.detail._id)\r\n    }\r\n    const rendercondition = (choice) => {\r\n        switch(choice) {\r\n            case 1:\r\n              return 'Brand new';\r\n            case 2:\r\n              return 'New';\r\n            case 3:\r\n              return 'Used';\r\n            case 4:\r\n              return 'Good';\r\n            case 5:\r\n                return 'Old';\r\n          }\r\n    }\r\n    const renderlevel = (choice) => {\r\n        switch(choice) {\r\n            case 1:\r\n              return 'Undergraduate';\r\n            case 2:\r\n              return 'Graduate';\r\n            case 3:\r\n              return 'PHD';\r\n          }\r\n    }\r\n    const rendercategory = (choice) => {\r\n        switch(choice) {\r\n            case 1:\r\n              return 'Finance';\r\n            case 2:\r\n              return 'Physics';\r\n            case 3:\r\n              return 'Math';\r\n            case 4:\r\n              return 'Arts';\r\n            case 5:\r\n                return 'Music';\r\n          }\r\n    }\r\n    const renderdept = (choice) => {\r\n        switch(choice) {\r\n            case 1:\r\n              return 'Herbert Wertheim College of Engineering';\r\n            case 2:\r\n              return 'College of the Arts';\r\n            case 3:\r\n              return 'Warrington College of Business';\r\n            case 4:\r\n              return 'College of Education';\r\n            case 5:\r\n                return 'College of Medicine';\r\n            case 6:\r\n                return 'Levin College of Law';\r\n            case 7:\r\n                return 'Fisher School of Accounting';\r\n          }\r\n    }\r\n\r\n    const content = (\r\n      <div>\r\n        <label><strong>Email:</strong></label><p><Icon type=\"mail\"/> {Product.useremail}</p>\r\n        <label><strong>Phone:</strong></label><p><Icon type=\"phone\"/> {Product.userphone}</p>\r\n        <label><strong>Major:</strong></label><p><Icon type=\"laptop\"/> {Product.usermajor}</p>\r\n        <label><strong>Address:</strong></label><p><Icon type=\"home\"/> {Product.useraddr}</p>\r\n        <label><strong>Bio:</strong></label><p><Icon type=\"rest\"/> {Product.userbio}</p>\r\n      </div>\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <div style={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n                <Button size=\"large\" shape=\"round\" type=\"danger\"\r\n                    onClick={addToFavoritehandler}\r\n                >\r\n                    <Icon type=\"heart\" />\r\n                    </Button>\r\n            </div>\r\n            <Descriptions title=\"Details:\">\r\n                <Descriptions.Item label=\"Price\">${Product.price}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Sold\">{Product.sold}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Author\"> {Product.author}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Version\"> {Product.version}</Descriptions.Item>\r\n                <Descriptions.Item label=\"ISBN\"> {Product.ISBN}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Condition\"> {rendercondition(Product.condition)}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Course Code\"> {Product.code}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Professor\"> {Product.professor}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Program Level\"> {renderlevel(Product.level)}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Category\"> {rendercategory(Product.category)}</Descriptions.Item>\r\n                <Descriptions.Item label=\"Department\"> {renderdept(Product.department)}</Descriptions.Item>\r\n            </Descriptions>\r\n            <br/>\r\n            <div>\r\n                <label style={{fontSize:16}}><strong>Description:</strong></label><p>{Product.description}</p>\r\n            </div>\r\n            <div>\r\n                <label style={{fontSize:16}}><strong>Seller:</strong></label><p><Icon type=\"user\"/> {Product.username}  &nbsp;&nbsp;&nbsp;&nbsp; <a href=\"/chat\"><Icon type=\"message\"/></a> &nbsp;&nbsp;&nbsp;&nbsp; <Popover content={content} title=\"Seller profile\" trigger=\"click\"><a>View Profile</a></Popover></p>\r\n            </div>\r\n\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n                <Button size=\"large\" shape=\"round\" type=\"primary\"\r\n                    onClick={addToCarthandler}\r\n                >\r\n                    <Icon type=\"shopping-cart\" />Add to Cart\r\n                    </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductInfo","import React, { useEffect, useState } from 'react'\r\nimport { Tooltip, Icon } from 'antd';\r\nimport Axios from 'axios';\r\n\r\nfunction LikeDislikes(props) {\r\n    const [Likes, setLikes] = useState(0)\r\n    const [Dislikes, setDislikes] = useState(0)\r\n    const [LikeAction, setLikeAction] = useState(null)\r\n    const [DislikeAction, setDislikeAction] = useState(null)\r\n    let variable = {};\r\n\r\n    if (props.video) {\r\n        variable = { videoId: props.videoId, userId: props.userId }\r\n    } else {\r\n        variable = { commentId: props.commentId, userId: props.userId }\r\n    }\r\n\r\n    useEffect(() => {\r\n        Axios.post('/api/like/getLikes', variable)\r\n            .then(response => {\r\n                console.log('getLikes',response.data)\r\n                if (response.data.success) {\r\n                    //How many likes does this video or comment have \r\n                    setLikes(response.data.likes.length)\r\n\r\n                    //if I already click this like button or not \r\n                    response.data.likes.map(like => {\r\n                        if (like.userId === props.userId) {\r\n                            setLikeAction('liked')\r\n                        }\r\n                    })\r\n                } else {\r\n                    alert('Failed to get likes')\r\n                }\r\n            })\r\n\r\n        Axios.post('/api/like/getDislikes', variable)\r\n            .then(response => {\r\n                console.log('getDislike',response.data)\r\n                if (response.data.success) {\r\n                    //How many likes does this video or comment have \r\n                    setDislikes(response.data.dislikes.length)\r\n\r\n                    //if I already click this like button or not \r\n                    response.data.dislikes.map(dislike => {\r\n                        if (dislike.userId === props.userId) {\r\n                            setDislikeAction('disliked')\r\n                        }\r\n                    })\r\n                } else {\r\n                    alert('Failed to get dislikes')\r\n                }\r\n            })\r\n    }, [])\r\n\r\n    const onLike = () => {\r\n        if (LikeAction === null) {\r\n            Axios.post('/api/like/upLike', variable)\r\n                .then(response => {\r\n                    if (response.data.success) {\r\n                        setLikes(Likes + 1)\r\n                        setLikeAction('liked')\r\n                        //If dislike button is already clicked\r\n                        if (DislikeAction !== null) {\r\n                            setDislikeAction(null)\r\n                            setDislikes(Dislikes - 1)\r\n                        }\r\n                    } else {\r\n                        alert('Failed to increase the like')\r\n                    }\r\n                })\r\n        } else {\r\n            Axios.post('/api/like/unLike', variable)\r\n                .then(response => {\r\n                    if (response.data.success) {\r\n\r\n                        setLikes(Likes - 1)\r\n                        setLikeAction(null)\r\n\r\n                    } else {\r\n                        alert('Failed to decrease the like')\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    const onDisLike = () => {\r\n        if (DislikeAction !== null) {\r\n            Axios.post('/api/like/unDisLike', variable)\r\n                .then(response => {\r\n                    if (response.data.success) {\r\n\r\n                        setDislikes(Dislikes - 1)\r\n                        setDislikeAction(null)\r\n\r\n                    } else {\r\n                        alert('Failed to decrease dislike')\r\n                    }\r\n                })\r\n        } else {\r\n            Axios.post('/api/like/upDisLike', variable)\r\n                .then(response => {\r\n                    if (response.data.success) {\r\n\r\n                        setDislikes(Dislikes + 1)\r\n                        setDislikeAction('disliked')\r\n\r\n                        //If dislike button is already clicked\r\n                        if(LikeAction !== null ) {\r\n                            setLikeAction(null)\r\n                            setLikes(Likes - 1)\r\n                        }\r\n\r\n                    } else {\r\n                        alert('Failed to increase dislike')\r\n                    }\r\n                })\r\n            }\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <span key=\"comment-basic-like\">\r\n                <Tooltip title=\"Like\">\r\n                    <Icon type=\"like\"\r\n                        theme={LikeAction === 'liked' ? 'filled' : 'outlined'}\r\n                        onClick={onLike} />\r\n                </Tooltip>\r\n                <span style={{ paddingLeft: '8px', cursor: 'auto' }}>{Likes}</span>\r\n            </span>&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <span key=\"comment-basic-dislike\">\r\n                <Tooltip title=\"Dislike\">\r\n                    <Icon\r\n                        type=\"dislike\"\r\n                        theme={DislikeAction === 'disliked' ? 'filled' : 'outlined'}\r\n                        onClick={onDisLike}\r\n                    />\r\n                </Tooltip>\r\n                <span style={{ paddingLeft: '8px', cursor: 'auto' }}>{Dislikes}</span>\r\n            </span>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default LikeDislikes","import React from 'react'\r\nimport { Comment, Avatar} from 'antd';\r\nimport LikeDislikes from './LikeDislikes';\r\n\r\nfunction SingleComment(props) {\r\n    const actions = [\r\n        <LikeDislikes comment commentId={props.comment._id} userId={localStorage.getItem('userId')} />,\r\n    ]\r\n\r\n    return (\r\n        <div>\r\n            <Comment\r\n                actions={actions}\r\n                author={props.comment.writer.fullname}\r\n                avatar={\r\n                    <Avatar\r\n                        src={props.comment.writer.image}\r\n                        alt=\"image\"\r\n                    />\r\n                }\r\n                content={\r\n                    <p>\r\n                        {props.comment.content}\r\n                    </p>\r\n                }\r\n            ></Comment>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SingleComment","import React, { useState } from 'react'\r\nimport { Button, Input, Typography, } from 'antd';\r\nimport axios from 'axios';\r\nimport { useSelector } from 'react-redux';\r\nimport SingleComment from './SingleComment';\r\n\r\nconst { TextArea } = Input;\r\nconst { Title } = Typography;\r\n\r\nfunction Comments(props) {\r\n    const user = useSelector(state => state.user)\r\n    const [Comment, setComment] = useState(\"\")\r\n\r\n    const handleChange = (e) => {\r\n        setComment(e.currentTarget.value)\r\n    }\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (user.userData && !user.userData.isAuth) {\r\n            return alert('Please Log in first');\r\n        }\r\n        const variables = {\r\n            content: Comment,\r\n            writer: user.userData._id,\r\n            postId: props.postId\r\n        }\r\n        console.log(variables)\r\n\r\n        axios.post('/api/comment/saveComment', variables)\r\n            .then(response => {\r\n                if (response.data.success) {\r\n                    setComment(\"\")\r\n                    props.refreshFunction(response.data.result)\r\n                } else {\r\n                    alert('Failed to save Comment')\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <br />\r\n            <Title level={3} > Share your opinions about {props.productTitle} </Title>\r\n            <hr />\r\n            {/* Comment Lists  */}\r\n            {console.log(props.CommentLists)}\r\n\r\n            {props.CommentLists && props.CommentLists.map((comment, index) => (\r\n                (!comment.responseTo &&\r\n                    <React.Fragment>\r\n                        <SingleComment comment={comment} postId={props.postId} refreshFunction={props.refreshFunction} />\r\n                    </React.Fragment>\r\n                )\r\n            ))}\r\n\r\n            {props.CommentLists && props.CommentLists.length === 0 &&\r\n                <div style={{ display: 'flex', justifyContent:'center', alignItems:'center', height:'200px'}} >\r\n                    Be the first one to share your thought about this textbook\r\n                </div>\r\n            }\r\n\r\n            {/* Root Comment Form */}\r\n            <form style={{ display: 'flex' }} onSubmit={onSubmit}>\r\n                <TextArea\r\n                    style={{ width: '100%', borderRadius: '5px' }}\r\n                    onChange={handleChange}\r\n                    value={Comment}\r\n                    placeholder=\"write some comments\"\r\n                />\r\n                <br />\r\n                <Button style={{ width: '20%', height: '52px' }} onClick={onSubmit}>Submit</Button>\r\n            </form>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Comments","import React, { useEffect, useState } from 'react'\r\nimport Axios from 'axios'\r\nimport { Row, Col } from 'antd';\r\nimport ProductImage from './Sections/ProductImage';\r\nimport ProductInfo from './Sections/ProductInfo';\r\nimport Comments from './Sections/Comments'\r\nimport LikeDislikes from './Sections/LikeDislikes';\r\nimport { addToCart,addToFavorite } from '../../actions/user_actions';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nfunction DetailProductPage(props) {\r\n    const dispatch = useDispatch();\r\n    const productId = props.match.params.productId\r\n    const [Product, setProduct] = useState([])\r\n    const [CommentLists, setCommentLists] = useState([])\r\n    const productVariable = {\r\n        productId: productId\r\n    }\r\n\r\n    useEffect(() => {\r\n        Axios.get(`/api/product/products_by_id?id=${productId}&type=single`)\r\n            .then(response => {\r\n                setProduct(response.data[0])\r\n            })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n\r\n        Axios.post('/api/comment/getComments', productVariable)\r\n            .then(response => {\r\n                console.log(response)\r\n                if (response.data.success) {\r\n                    console.log('response.data.comments', response.data.comments)\r\n                    setCommentLists(response.data.comments)\r\n                } else {\r\n                    alert('Failed to get comments Info')\r\n                }\r\n            })\r\n\r\n    }, [])\r\n\r\n    const addToCartHandler = (productId) => {\r\n        dispatch(addToCart(productId))\r\n    }\r\n    const addToFavoriteHandler = (productId) => {\r\n        dispatch(addToFavorite(productId))\r\n    }\r\n    const updateComment = (newComment) => {\r\n        setCommentLists(CommentLists.concat(newComment))\r\n    }\r\n\r\n    return (\r\n        <div className=\"postPage\" style={{ width: '100%', padding: '3rem 4rem' }}>\r\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n                <h1 style={{fontSize:35}}>{Product.title}</h1>\r\n            </div>\r\n            <br />\r\n            <div>\r\n                <Row gutter={[16, 16]} >\r\n                    <Col lg={12} xs={24}>\r\n                        <ProductImage detail={Product} />\r\n                    </Col>\r\n                    <Col lg={12} xs={24}>\r\n                        <ProductInfo\r\n                            addToCart={addToCartHandler}\r\n                            addToFavorite={addToFavoriteHandler}\r\n                            detail={Product} />\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n            <br/>\r\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n                <LikeDislikes video videoId={productId} userId={localStorage.getItem('userId')} />\r\n            </div>\r\n            <Comments productTitle={Product.title} CommentLists={CommentLists} postId={productId} refreshFunction={updateComment} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DetailProductPage","import React from 'react'\r\nimport { Icon, Button } from 'antd';\r\n\r\nfunction UserCardBlock(props) {\r\n    const renderCartImage = (images) => {\r\n        if(images.length > 0) {\r\n            let image = images[0]\r\n            return `http://localhost:5000/${image}`\r\n        }\r\n    }\r\n\r\n    const renderItems = () => (\r\n        props.products && props.products.map(product => (\r\n            <tr key={product._id}>\r\n                <td>{product.username}:<br/> <Icon type=\"mail\"/> {product.useremail} ,<br/> <Icon type=\"phone\"/> {product.userphone}</td>\r\n                <td>\r\n                    <img style={{ width: '70px' }} alt=\"product\" \r\n                    src={renderCartImage(product.images)} />\r\n                </td> \r\n                <td>{product.title} </td>\r\n                <td>{product.author} </td>\r\n                <td>{product.quantity} EA</td>\r\n                <td>$ {product.price} </td>\r\n                <td><Button type=\"danger\"\r\n                onClick={()=> props.removeItem(product._id)}\r\n                ><Icon type=\"delete\" /> </Button> </td>\r\n            </tr>\r\n        ))\r\n    )\r\n\r\n    return (\r\n        <div>\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Seller</th>\r\n                        <th>Textbook Image</th>\r\n                        <th>Textbook Title</th>\r\n                        <th>Textbook Author</th>\r\n                        <th>Textbook Quantity</th>\r\n                        <th>Textbook Price</th>\r\n                        <th>Remove from Cart</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {renderItems()}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserCardBlock","import React from 'react';\r\nimport PaypalExpressBtn from 'react-paypal-express-checkout';\r\n\r\nexport default class Paypal extends React.Component {\r\n    render() {\r\n        const onSuccess = (payment) => {\r\n            // Congratulation, it came here means everything's fine!\r\n            console.log(\"The payment was succeeded!\", payment);\r\n            // You can bind the \"payment\" object's value to your state or props or whatever here, please see below for sample returned data\r\n            this.props.onSuccess(payment);\r\n        \r\n        }\r\n        const onCancel = (data) => {\r\n            // User pressed \"cancel\" or close Paypal's popup!\r\n            console.log('The payment was cancelled!', data);\r\n            // You can bind the \"data\" object's value to your state or props or whatever here, please see below for sample returned data\r\n        }\r\n        const onError = (err) => {\r\n            console.log(\"Error!\", err);\r\n           \r\n        }\r\n        let env = 'sandbox'; // you can set here to 'production' for production\r\n        let currency = 'USD'; // or you can set this value from your props or state\r\n        let total = this.props.toPay; // same as above, this is the total amount (based on currency) to be paid by using Paypal express checkout\r\n        const client = {\r\n            sandbox: 'AQ0qhKSi01VWHdGNE3mOjxipP_NOr6yKS84cV-J6_SpOsoxtWEIkolqjY_ePlq40RDpKCONuYkElt8qc',\r\n            production: 'AQ0qhKSi01VWHdGNE3mOjxipP_NOr6yKS84cV-J6_SpOsoxtWEIkolqjY_ePlq40RDpKCONuYkElt8qc',\r\n        }\r\n        \r\n        return (\r\n            <PaypalExpressBtn\r\n                env={env}\r\n                client={client}\r\n                currency={currency}\r\n                total={total}\r\n                onError={onError}\r\n                onSuccess={onSuccess}\r\n                onCancel={onCancel}\r\n                style={{ \r\n                    size:'large',\r\n                    color:'blue',\r\n                    shape: 'rect',\r\n                    label: 'checkout'\r\n                }}\r\n            />\r\n        );\r\n    }\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport {\r\n    getCartItems,\r\n    removeCartItem,\r\n    onSuccessBuy\r\n} from '../../actions/user_actions';\r\nimport UserCardBlock from './Sections/UserCardBlock';\r\nimport { Result, Empty, Button } from 'antd';\r\nimport Axios from 'axios';\r\nimport Paypal from '../../components/Paypal';\r\n\r\nfunction CartPage(props) {\r\n    const dispatch = useDispatch();\r\n    const [Total, setTotal] = useState(0)\r\n    const [ShowTotal, setShowTotal] = useState(false)\r\n    const [ShowSuccess, setShowSuccess] = useState(false)\r\n\r\n    useEffect(() => {\r\n        let cartItems = [];\r\n        if (props.user.userData && props.user.userData.cart) {\r\n            if (props.user.userData.cart.length > 0) {\r\n                props.user.userData.cart.forEach(item => {\r\n                    cartItems.push(item.id)\r\n                });\r\n                dispatch(getCartItems(cartItems, props.user.userData.cart))\r\n\r\n            }\r\n        }\r\n    }, [props.user.userData])\r\n\r\n    useEffect(() => {\r\n        if (props.user.cartDetail && props.user.cartDetail.length > 0) {\r\n            calculateTotal(props.user.cartDetail)\r\n        }\r\n    }, [props.user.cartDetail])\r\n\r\n    const calculateTotal = (cartDetail) => {\r\n        let total = 0;\r\n        cartDetail.map(item => {\r\n            total += parseInt(item.price, 10) * item.quantity\r\n        });\r\n        setTotal(total)\r\n        setShowTotal(true)\r\n    }\r\n\r\n    const removeFromCart = (productId) => {\r\n        dispatch(removeCartItem(productId))\r\n            .then(() => {\r\n                Axios.get('/api/users/userCartInfo')\r\n                    .then(response => {\r\n                        if (response.data.success) {\r\n                            if (response.data.cartDetail.length <= 0) {\r\n                                setShowTotal(false)\r\n                            } else {\r\n                                calculateTotal(response.data.cartDetail)\r\n                            }\r\n                        } else {\r\n                            alert('Failed to get cart info')\r\n                        }\r\n                    })\r\n            })\r\n    }\r\n\r\n    const transactionSuccess = (data) => {\r\n        let variables = {\r\n            cartDetail: props.user.cartDetail, paymentData: data\r\n        }\r\n        Axios.post('/api/users/successBuy', variables)\r\n            .then(response => {\r\n                if (response.data.success) {\r\n                    setShowSuccess(true)\r\n                    setShowTotal(false)\r\n\r\n                    dispatch(onSuccessBuy({\r\n                        cart: response.data.cart,\r\n                        cartDetail: response.data.cartDetail\r\n                    }))\r\n\r\n                } else {\r\n                    alert('Failed to buy it')\r\n                }\r\n            })\r\n        Axios.get(`/api/users/sendemail?recipient=${props.user.userData.email}&sender=noreply@TBooks.com&topic=Purchase Confirmation&text=Thank you for your trust with Textbook Exchange. Your purchase is successful, please keep this email as reference.`)\r\n            .then(response => {\r\n                console.log('confirmation sent!')\r\n        })\r\n    }\r\n\r\n    const transactionError = () => {\r\n        console.log('Paypal error')\r\n    }\r\n\r\n    const transactionCanceled = () => {\r\n        console.log('Transaction canceled')\r\n    }\r\n\r\n    return (\r\n        <div style={{ width: '85%', margin: '3rem auto' }}>\r\n            <h1>My Cart</h1>\r\n            <div>\r\n                <UserCardBlock\r\n                    products={props.user.cartDetail}\r\n                    removeItem={removeFromCart}\r\n                />\r\n                {ShowTotal ?\r\n                    <div style={{ marginTop: '3rem' }}>\r\n                        <h2>Total amount: ${Total} </h2>\r\n                    </div>\r\n                    :\r\n                    ShowSuccess ?\r\n                        <Result\r\n                            status=\"success\"\r\n                            title=\"Successfully Purchased Items\"\r\n                        /> :\r\n                        <div style={{\r\n                            width: '100%', display: 'flex', flexDirection: 'column',\r\n                            justifyContent: 'center'\r\n                        }}>\r\n                            <br />\r\n                            <Empty description={false} />\r\n                            <p>No Items In the Cart</p>\r\n                        </div>\r\n                }\r\n            </div>\r\n\r\n            {ShowTotal &&\r\n                <div>\r\n                    <Paypal\r\n                        toPay={Total}\r\n                        onSuccess={transactionSuccess}\r\n                        transactionError={transactionError}\r\n                        transactionCanceled={transactionCanceled}\r\n                    />\r\n                    <p>Or</p>\r\n                    <a href=\"/chat\"><Button type=\"dashed\" size=\"large\">Contact seller for in person exchange</Button></a>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CartPage","import React, { useEffect, useState } from 'react'\r\nimport Axios from 'axios'\r\nimport { Link } from 'react-router-dom';\r\nimport { Button, Form, Input, Icon, Avatar } from 'antd';\r\nimport { useDispatch } from 'react-redux';\r\nimport {\r\n    fetchProfile,\r\n    updateProfile\r\n} from '../../actions/user_actions';\r\n\r\nconst { TextArea } = Input;\r\nconst sex = [\r\n    { key: 1, value: \"\" },\r\n    { key: 2, value: \"Male\" },\r\n    { key: 3, value: \"Female\" },\r\n    { key: 4, value: \"I don't want to provide\" }\r\n]\r\n\r\nfunction ProfilePage() {\r\n    const dispatch = useDispatch();\r\n    const [emailValue, setemailValue] = useState(\"\")\r\n    const [fullnameValue, setfullnameValue] = useState(\"\")\r\n    const [birthdayValue, setbirthdayValue] = useState(\"\")\r\n    const [majorValue, setmajorValue] = useState(\"\")\r\n    const [sexValue, setsexValue] = useState(1)\r\n    const [phoneValue, setphoneValue] = useState(\"\")\r\n    const [descriptionValue, setdescriptionValue] = useState(\"\")\r\n    const [addressValue, setaddressValue] = useState(\"\")\r\n    const [History, setHistory] = useState([])\r\n    const [Posts, setPosts] = useState([])\r\n    const [image, setimageValue] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        Axios.get('/api/users/getHistory')\r\n            .then(response => {\r\n                if (response.data.success) {\r\n                    setHistory(response.data.history)\r\n                } else {\r\n                    alert('Failed to get purchase history')\r\n                }\r\n            })\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        Axios.get('/api/users/getPost')\r\n            .then(response => {\r\n                if (response.data.success) {\r\n                    setPosts(response.data.post)\r\n                } else {\r\n                    alert('Failed to get post history')\r\n                }\r\n            })\r\n\r\n    }, [])\r\n   \r\n    useEffect(() => {\r\n        dispatch(fetchProfile()).then(response => {\r\n            setemailValue(response.payload.email)\r\n            setfullnameValue(response.payload.fullname)\r\n            setbirthdayValue(response.payload.birthday)\r\n            setmajorValue(response.payload.major)\r\n            setsexValue(response.payload.sex)\r\n            setphoneValue(response.payload.phone)\r\n            setdescriptionValue(response.payload.description)\r\n            setaddressValue(response.payload.address)\r\n            setimageValue(response.payload.image)\r\n        })\r\n    }, [])\r\n\r\n    const onfullnameChange = (event) => {\r\n        setfullnameValue(event.currentTarget.value)\r\n    }\r\n    const onbirthdayChange = (event) => {\r\n        setbirthdayValue(event.currentTarget.value)\r\n    }\r\n    const onsexChange = (event) => {\r\n        setsexValue(event.currentTarget.value)\r\n    }\r\n    const onphoneChange = (event) => {\r\n        setphoneValue(event.currentTarget.value)\r\n    }\r\n    const ondescriptionChange = (event) => {\r\n        setdescriptionValue(event.currentTarget.value)\r\n    }\r\n    const onaddressChange = (event) => {\r\n        setaddressValue(event.currentTarget.value)\r\n    }\r\n    const onmajorChange = (event) => {\r\n        setmajorValue(event.currentTarget.value)\r\n    }\r\n    const onSubmit = (event) => {\r\n        event.preventDefault();\r\n        if (!fullnameValue){\r\n            return alert('fullname is required')\r\n        }\r\n        let dataToSubmit = {\r\n            fullname: fullnameValue,\r\n            birthday: birthdayValue,\r\n            sex: sexValue,\r\n            major: majorValue,\r\n            phone: phoneValue,\r\n            address: addressValue,\r\n            description: descriptionValue\r\n          };\r\n        dispatch(updateProfile(dataToSubmit)).then(response => {\r\n            alert('profile successfully updated')\r\n          })\r\n    }\r\n\r\n    const renderImage = (images) => {\r\n        if(images.length > 0) {\r\n            let image = images[0]\r\n            return `http://localhost:5000/${image}`\r\n        }\r\n    }\r\n\r\n    const removeItem = (productId) => {\r\n        Axios.delete(`/api/product/products_by_id?id=${productId}`)\r\n            .then(response => {\r\n                if(response.data.success){\r\n                    alert(response.data.message)\r\n                }\r\n                else{\r\n                    alert('delete post failed')\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div style={{ width: '80%', margin: '3rem auto ' }}>\r\n           <div style={{ textAlign: 'left' }}>\r\n                <h1><Avatar src={image} alt=\"image\"/>My Profile <Link className=\"btn btn-light\" to=\"/settings\"><Icon type=\"setting\" style={{color:'grey'}}/></Link></h1>\r\n            </div>\r\n            <br/>\r\n            <Form onSubmit={onSubmit}>\r\n                <label>Email</label><Input value={emailValue} disabled/>\r\n                <br/>\r\n                <br/>\r\n                <label>Full Name</label><Input  onChange={onfullnameChange} value={fullnameValue}/>\r\n                <br/>\r\n                <br/>\r\n                <label>Major</label><Input onChange={onmajorChange} value={majorValue}/>\r\n                <br/>\r\n                <br/>\r\n                <label>Birthday</label><Input type=\"date\"  onChange={onbirthdayChange} value={birthdayValue}/>\r\n                <br/>\r\n                <br/>\r\n                <label>Sex</label><br/>\r\n                <select style={{width:200, height:30, borderRadius:5}} onChange={onsexChange} value={sexValue}>\r\n                    {sex.map(item => (\r\n                        <option key={item.key} value={item.key}>{item.value}</option>\r\n                    ))}\r\n                </select>\r\n                <br/>\r\n                <br/>\r\n                <label>Phone</label><Input onChange={onphoneChange} value={phoneValue}/>\r\n                <br/>\r\n                <br/>\r\n                <label>Address</label><Input onChange={onaddressChange} value={addressValue}/>\r\n                <br/>\r\n                <br/>\r\n                <label>Description</label><TextArea onChange={ondescriptionChange} value={descriptionValue}/>\r\n                <br/>\r\n                <br/>\r\n                <Button type=\"dashed\" size=\"large\"  onClick={onSubmit}>Update Profile</Button>\r\n            </Form>\r\n            <br/>\r\n            <br/>\r\n            \r\n            <div style={{ textAlign: 'left' }}>\r\n                <h1>My Purchase History <Icon type=\"shopping\"/></h1>\r\n            </div>\r\n            <br />\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Payment Id</th>\r\n                        <th>Textbook Title</th>\r\n                        <th>Textbook Price</th>\r\n                        <th>Textbook Quantity</th>\r\n                        <th>Date of Purchase</th>\r\n\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {History.map(item => (\r\n                        <tr key={item._id}>\r\n                            <td>{item.paymentId}</td>\r\n                            <td>{item.name}</td>\r\n                            <td>$ {item.price}</td>\r\n                            <td>{item.quantity}</td>\r\n                            <td>{item.dateOfPurchase}</td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n            <br/>\r\n            <br/>\r\n\r\n            <div style={{ textAlign: 'left' }}>\r\n                <h1>My Post History <Icon type=\"schedule\"/></h1>\r\n            </div>\r\n            <br />\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Textbook Image</th>\r\n                        <th>Textbook Title</th>\r\n                        <th>Textbook Author</th>\r\n                        <th>Textbook Price</th>\r\n                        <th>Date of Post</th>\r\n                        <th>Edit Post</th>\r\n                        <th>Delete Post</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {Posts.map(p => (\r\n                            <tr key={p.title}>\r\n                                <td><img style={{ width: '70px' }} alt=\"product\" src={renderImage(p.images)} /></td>\r\n                                <td>{p.title}</td>\r\n                                <td>{p.author}</td>\r\n                                <td>$ {p.price}</td>\r\n                                <td>{p.dateOfPost}</td>\r\n                                <td><a href={`/product/edit/${p.id}`}><Button type=\"dashed\"><Icon type=\"edit\" /></Button></a></td>\r\n                                <td><Button type=\"danger\" onClick={()=> { if (window.confirm('Are you sure you wish to delete this post?')) removeItem(p.id) }}><Icon type=\"delete\" /></Button></td>\r\n                            </tr>\r\n                        ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfilePage","import { Button, Form, Input, Icon } from 'antd';\r\nimport {changePassword} from '../../actions/user_actions';\r\nimport React, { useState } from 'react'\r\n\r\nfunction Setting() {\r\n    const [oldpassValue, setoldpassValue] = useState(\"\")\r\n    const [newpassValue, setnewpassValue] = useState(\"\")\r\n    const [confirmnewpassValue, setconfirmnewpassValue] = useState(\"\")\r\n\r\n    const onoldpassChange = (event) => {\r\n      setoldpassValue(event.currentTarget.value)\r\n    }\r\n    const onnewpassChange = (event) => {\r\n        setnewpassValue(event.currentTarget.value)\r\n    }\r\n    const onconfirmnewpassChange = (event) => {\r\n      setconfirmnewpassValue(event.currentTarget.value)\r\n    }\r\n\r\n    const onSubmit = (event) => {\r\n      event.preventDefault();\r\n      if (newpassValue!=confirmnewpassValue){\r\n          return alert('new password must match')\r\n      }\r\n      let dataToSubmit = {\r\n          oldPassword: oldpassValue,\r\n          newPassword: newpassValue\r\n        };\r\n      changePassword(dataToSubmit);\r\n      alert('password successfully changed')\r\n  }\r\n\r\n    return (\r\n      <div style={{ width: '80%', margin: '3rem auto ' }}>\r\n        <div style={{ textAlign: 'left' }}>\r\n            <h1>Change Password <Icon type=\"lock\"/></h1>\r\n        </div>\r\n        <Form onSubmit={onSubmit}>\r\n          <label>Old Password</label><Input onChange={onoldpassChange} value={oldpassValue}/>\r\n          <br/>\r\n          <br/>\r\n          <label>New Password</label><Input onChange={onnewpassChange} value={newpassValue}/>\r\n          <br/>\r\n          <br/>\r\n          <label>Confirm New Password</label><Input onChange={onconfirmnewpassChange} value={confirmnewpassValue}/>\r\n          <br/>\r\n          <br/>\r\n          <Button type=\"dashed\" size=\"large\" onClick={onSubmit}>Change Password</Button>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n\r\nexport default Setting;","import React from 'react'\r\nimport { Icon, Button } from 'antd';\r\n\r\nfunction UserCardBlock(props) {\r\n    const renderFavoriteImage = (images) => {\r\n        if(images.length > 0) {\r\n            let image = images[0]\r\n            return `http://localhost:5000/${image}`\r\n        }\r\n    }\r\n\r\n    const renderItems = () => (\r\n        props.products && props.products.map(product => (\r\n            <tr key={product._id}>\r\n                <td>\r\n                    <img style={{ width: '70px' }} alt=\"product\" \r\n                    src={renderFavoriteImage(product.images)} />\r\n                </td> \r\n                <td>{product.title} </td>\r\n                <td>{product.author} </td>\r\n                <td>$ {product.price} </td>\r\n                <td><Button type=\"danger\"\r\n                onClick={()=> props.removeItem(product._id)}\r\n                ><Icon type=\"delete\" /> </Button> </td>\r\n            </tr>\r\n        ))\r\n    )\r\n\r\n    return (\r\n        <div>\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Textbook Image</th>\r\n                        <th>Textbook Title</th>\r\n                        <th>Textbook Author</th>\r\n                        <th>Textbook Price</th>\r\n                        <th>Remove from Favorite</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {renderItems()}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserCardBlock","import React, { useEffect} from 'react'\r\nimport axios from 'axios';\r\nimport {\r\n  getFavoriteItems,\r\n  removeFavoriteItem,\r\n} from '../../actions/user_actions';\r\nimport UserCardBlock from './Sections/UserCardBlock';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nfunction FavoritePage(props) {\r\n  const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        let favoriteItems = [];\r\n        if (props.user.userData && props.user.userData.favorite) {\r\n            if (props.user.userData.favorite.length > 0) {\r\n                props.user.userData.favorite.forEach(item => {\r\n                    favoriteItems.push(item.id)\r\n                });\r\n                dispatch(getFavoriteItems(favoriteItems, props.user.userData.favorite))\r\n            }\r\n        }\r\n    }, [props.user.userData])\r\n\r\n    const removeFromFavorite = (productId) => {\r\n      dispatch(removeFavoriteItem(productId))\r\n          .then(() => {\r\n              axios.get('/api/users/userFavoriteInfo')\r\n                  .then(response => {\r\n                      if (response.data.success) {\r\n                        console.log(response.data.favorite)\r\n                      } \r\n                      else {\r\n                          alert('Failed to get favorite info')\r\n                      }\r\n                  })\r\n          })\r\n  }\r\n\r\n  return (\r\n      <div style={{ width: '85%', margin: '3rem auto' }}>\r\n      <h1>My Favorite</h1>\r\n        <div>\r\n            <UserCardBlock\r\n                products={props.user.favoriteDetail}\r\n                removeItem={removeFromFavorite}\r\n            />\r\n        </div>\r\n    </div>\r\n    )\r\n  }\r\n\r\nexport default FavoritePage","import React from \"react\";\r\nimport moment from 'moment';\r\nimport { Comment, Tooltip, Avatar } from 'antd';\r\n\r\nfunction ChatCard(props) {\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            <Comment\r\n                author={props.sender.fullname}\r\n                avatar={\r\n                    <Avatar\r\n                        src={props.sender.image} alt={props.sender.fullname}\r\n                    />\r\n                }\r\n                content={\r\n                    <p>{props.message}</p>\r\n                }\r\n                datetime={\r\n                    <Tooltip title={moment().format('YYYY-MM-DD HH:mm:ss')}>\r\n                        <span>{moment().fromNow()}</span>\r\n                    </Tooltip>\r\n                }\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatCard;","import React, { Component } from 'react'\r\nimport { Form, Icon, Input, Button, Row, Col } from 'antd';\r\nimport io from \"socket.io-client\";\r\nimport { connect } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport { getChats, afterPostMessage } from \"../../actions/chat_actions\"\r\nimport ChatCard from \"./Sections/ChatCard\"\r\n\r\nexport class ChatPage extends Component {\r\n    state = {\r\n        chatMessage: \"\",\r\n    }\r\n\r\n    componentDidMount() {\r\n        let server = \"https://textbook-exchange-uf.herokuapp.com\";\r\n        this.props.dispatch(getChats());\r\n        this.socket = io(server);\r\n        this.socket.on(\"Output Chat Message\", messageFromBackEnd => {\r\n            console.log(messageFromBackEnd)\r\n            this.props.dispatch(afterPostMessage(messageFromBackEnd));\r\n        })\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.messagesEnd.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n\r\n    hanleSearchChange = (e) => {\r\n        this.setState({\r\n            chatMessage: e.target.value\r\n        })\r\n    }\r\n\r\n    renderCards = () =>{\r\n        return this.props.chats.chats && this.props.chats.chats.map((chat) => (\r\n            <ChatCard key={chat._id}  {...chat} />\r\n        ));\r\n    }\r\n\r\n    submitChatMessage = (e) => {\r\n        e.preventDefault();\r\n        if (this.props.user.userData && !this.props.user.userData.isAuth) {\r\n            return alert('Please Log in first');\r\n        }\r\n        let chatMessage = this.state.chatMessage\r\n        let userId = this.props.user.userData._id\r\n        let userName = this.props.user.userData.fullname;\r\n        let userImage = this.props.user.userData.image;\r\n        let nowTime = moment();\r\n        let type = \"Text\"\r\n\r\n        this.socket.emit(\"Input Chat Message\", {\r\n            chatMessage,\r\n            userId,\r\n            userName,\r\n            userImage,\r\n            nowTime,\r\n            type\r\n        });\r\n        this.setState({ chatMessage: \"\" })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div>\r\n                    <p style={{ fontSize: '2rem', textAlign: 'center' }}> Chat with Seller</p>\r\n                </div>\r\n\r\n                <div style={{ maxWidth: '800px', margin: '0 auto' }}>\r\n                    <div className=\"infinite-container\" style={{ height: '500px', overflowY: 'scroll' }}>\r\n                        {this.props.chats && (this.renderCards())}\r\n                        <div\r\n                            ref={el => {this.messagesEnd = el;}}\r\n                            style={{ float: \"left\", clear: \"both\" }}\r\n                        />\r\n                    </div>\r\n                    <Row >\r\n                        <Form layout=\"inline\" onSubmit={this.submitChatMessage}>\r\n                            <Col span={18}>\r\n                                <Input\r\n                                    id=\"message\"\r\n                                    prefix={<Icon type=\"message\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                                    placeholder=\"Type your message\"\r\n                                    type=\"text\"\r\n                                    value={this.state.chatMessage}\r\n                                    onChange={this.hanleSearchChange}\r\n                                />\r\n                            </Col>\r\n                            <Col span={4}>\r\n                                <Button type=\"secondary\" size=\"medium\" onClick={this.submitChatMessage} htmlType=\"submit\">\r\n                                    <Icon type=\"enter\" />\r\n                                </Button>\r\n                            </Col>\r\n                        </Form>\r\n                    </Row>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        user: state.user,\r\n        chats: state.chat\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ChatPage);","import axios from 'axios';\r\nimport {\r\n    GET_CHATS,\r\n    AFTER_POST_MESSAGE\r\n} from './types';\r\n\r\nexport function getChats(){\r\n    const request = axios.get(`${'/api/chat'}/getChats`)\r\n        .then(response => response.data);\r\n    return {\r\n        type: GET_CHATS,\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function afterPostMessage(data){\r\n    return {\r\n        type: AFTER_POST_MESSAGE,\r\n        payload: data\r\n    }\r\n}","import React, { Suspense } from 'react';\r\nimport { Route, Switch, Redirect  } from 'react-router-dom';\r\nimport Home from \"./views/Home/Home\"\r\nimport NotFound from \"./views/NotFound\"\r\nimport LoginPage from \"./views/LoginPage/LoginPage\"\r\nimport RegisterPage from \"./views/RegisterPage/RegisterPage\"\r\nimport NavBar from \"./views/NavBar/NavBar\"\r\nimport Auth from \"./auth\"\r\nimport Footer from \"./views/Footer/Footer\"\r\nimport LandingPage from \"./views/LandingPage/LandingPage\"\r\nimport UploadProductPage from './views/UploadProductPage/UploadProductPage'\r\nimport EditProductPage from './views/EditProductPage/EditProductPage'\r\nimport DetailProductPage from './views/DetailProductPage/DetailProductPage'\r\nimport CartPage from './views/CartPage/CartPage'\r\nimport Profile from './views/ProfilePage/ProfilePage'\r\nimport Setting from './views/ProfilePage/Setting'\r\nimport FavoritePage from \"./views/FavoritePage/FavoritePage\"\r\nimport ChatPage from \"./views/ChatPage/ChatPage\"\r\n\r\nconst App = () => {\r\n  return (\r\n    <Suspense fallback={(<div>Loading...</div>)}>\r\n      <NavBar />\r\n      <div style={{ paddingTop: '75px', minHeight: 'calc(100vh - 80px)' }}>\r\n        <Switch>\r\n          <Route exact path=\"/Home\" component={Auth(Home, null)} />\r\n          <Route exact path=\"/\">\r\n            <Redirect to=\"/Home\" />\r\n          </Route>\r\n          <Route exact path=\"/login\" component={Auth(LoginPage, false)} />\r\n          <Route exact path=\"/register\" component={Auth(RegisterPage, false)} />\r\n          <Route exact path=\"/chat\" component={Auth(ChatPage, null)} />\r\n          <Route exact path=\"/textbook\" component={Auth(LandingPage, null)} />\r\n          <Route exact path=\"/product/upload\" component={Auth(UploadProductPage, true)} />\r\n          <Route exact path=\"/product/edit/:productId\" component={Auth(EditProductPage, true)} />\r\n          <Route exact path=\"/product/:productId\" component={Auth(DetailProductPage, null)} />\r\n          <Route exact path=\"/user/cart\" component={Auth(CartPage, true)} />\r\n          <Route exact path=\"/profile\" component={Auth(Profile, true)} />\r\n          <Route exact path=\"/settings\" component={Auth(Setting, true)} />\r\n          <Route exact path=\"/favorite\" component={Auth(FavoritePage, null)} />\r\n          <Route component={NotFound}/>\r\n        </Switch>\r\n      </div>\r\n      <Footer />\r\n    </Suspense>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { combineReducers } from 'redux';\r\nimport user from './user_reducer';\r\nimport chat from './chat_reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    user,\r\n    chat\r\n});\r\n\r\nexport default rootReducer;\r\n","import {\r\n  LOGIN_USER,\r\n  REGISTER_USER,\r\n  AUTH_USER,\r\n  LOGOUT_USER,\r\n  ADD_TO_CART_USER,\r\n  GET_CART_ITEMS_USER,\r\n  REMOVE_CART_ITEM_USER,\r\n  ADD_TO_FAVORITE_USER,\r\n  GET_FAVORITE_ITEMS_USER,\r\n  REMOVE_FAVORITE_ITEM_USER,\r\n  ON_SUCCESS_BUY_USER,\r\n  FETCH_PROFILE,\r\n  UPDATE_PROFILE\r\n} from '../actions/types';\r\n\r\nexport default function (state = {}, action) {\r\n  switch (action.type) {\r\n      case REGISTER_USER:\r\n          return { ...state, register: action.payload }\r\n      case LOGIN_USER:\r\n          return { ...state, loginSucces: action.payload }\r\n      case AUTH_USER:\r\n          return { ...state, userData: action.payload }\r\n      case LOGOUT_USER:\r\n          return { ...state }\r\n      case FETCH_PROFILE:\r\n          return { ...state, user: action.payload };\r\n      case UPDATE_PROFILE:\r\n          return { ...state, user: action.payload };\r\n      case ADD_TO_CART_USER:\r\n          return {\r\n              ...state, userData: {\r\n                  ...state.userData,\r\n                  cart: action.payload\r\n              }\r\n          }\r\n      case GET_CART_ITEMS_USER:\r\n          return {\r\n              ...state, cartDetail: action.payload\r\n          }\r\n      case REMOVE_CART_ITEM_USER:\r\n          return {\r\n              ...state,\r\n              cartDetail: action.payload.cartDetail,\r\n              userData: {\r\n                  ...state.userData,\r\n                  cart: action.payload.cart\r\n              }\r\n\r\n          }\r\n      case ADD_TO_FAVORITE_USER:\r\n          return {\r\n              ...state, userData: {\r\n                  ...state.userData,\r\n                  favorite: action.payload\r\n              }\r\n          }\r\n      case GET_FAVORITE_ITEMS_USER:\r\n          return {\r\n              ...state, favoriteDetail: action.payload\r\n          }\r\n      case REMOVE_FAVORITE_ITEM_USER:\r\n          return {\r\n              ...state,\r\n              favoriteDetail: action.payload.favoriteDetail,\r\n              userData: {\r\n                  ...state.userData,\r\n                  favorite: action.payload.favorite\r\n              }\r\n\r\n          }\r\n      case ON_SUCCESS_BUY_USER:\r\n          return {\r\n              ...state,\r\n              userData: {\r\n                  ...state.userData,\r\n                  cart: action.payload.cart\r\n              },\r\n              cartDetail: action.payload.cartDetail\r\n          }\r\n      default:\r\n          return state;\r\n  }\r\n}","import {\r\n  GET_CHATS,\r\n  AFTER_POST_MESSAGE\r\n} from '../actions/types';\r\n\r\nexport default function(state={},action){\r\n  switch(action.type){\r\n      case GET_CHATS:\r\n          return {...state, chats: action.payload }\r\n      case AFTER_POST_MESSAGE:\r\n              return {...state, chats: state.chats.concat(action.payload) }\r\n      default:\r\n          return state;\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport './index.css';\r\nimport App from './App';\r\nimport Reducer from './reducers';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport promiseMiddleware from 'redux-promise';\r\nimport ReduxThunk from 'redux-thunk';\r\nconst createStoreWithMiddleware = applyMiddleware(promiseMiddleware, ReduxThunk)(createStore);\r\n\r\nReactDOM.render(\r\n    <Provider\r\n        store={createStoreWithMiddleware(\r\n            Reducer,\r\n            window.__REDUX_DEVTOOLS_EXTENSION__ &&\r\n            window.__REDUX_DEVTOOLS_EXTENSION__()\r\n        )}\r\n    >\r\n        <BrowserRouter>\r\n            <App />\r\n        </BrowserRouter>\r\n    </Provider>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}